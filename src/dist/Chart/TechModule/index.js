var t={949:(t,e,s)=>{},56:(t,e,s)=>{},871:(t,e,s)=>{s.d(e,{b:()=>r});var n=s(717);class r{constructor(){}normalize(t,e,s=NaN){const n=t-e.length,r=[];for(let t=0;t<n;++t)r.push(s);return[...r,...e]}floor(t){return t<0?~~t-1:~~t}sqrt(t,e=t/2){const s=(e+t/e)/2;return(e>s?e-s:s-e)<1e-7?s:this.sqrt(t,s)}ad(t,e,s,n,r=s.length){const o=[];let i=0;for(let a=0;a<r;++a){const r=t[a]-e[a];0!=r&&(i+=(s[a]-e[a]-t[a]+s[a])/r*n[a]),o[a]=i}return o}adosc(t,e,s,n,r,o,i=s.length){const a=o-1,l=2/(r+1),h=2/(o+1),u=[];u[o-2]=NaN;let c=0,p=0,d=0;for(let r=0;r<i;++r){const o=t[r]-e[r];0!=o&&(c+=(s[r]-e[r]-t[r]+s[r])/o*n[r]),0==r?(p=c,d=c):(p=(c-p)*l+p,d=(c-d)*h+d),r>=a&&u.push(p-d)}return u}adx(t,e,s,n=t.length){const r=[];r[2*(s-2)+1]=NaN;const o=(s-1)/s,i=1/s;let a=0,l=0;for(let n=1;n<s;++n){let s=t[n]-t[n-1],r=e[n-1]-e[n];s<0?s=0:s>r&&(r=0),r<0?r=0:r>s&&(s=0),a+=s,l+=r}let h=0,u=a,c=l,p=Math.abs(u-c),d=u+c,f=p/d*100;h+=f;for(let g=s;g<n;++g){let n=t[g]-t[g-1],N=e[g-1]-e[g];n<0?n=0:n>N&&(N=0),N<0?N=0:N>n&&(n=0),a=a*o+n,l=l*o+N,u=a,c=l,p=Math.abs(u-c),d=u+c,f=p/d*100,g-s<s-2?h+=f:g-s==s-2?(h+=f,r.push(h*i)):(h=h*o+f,r.push(h*i))}return r}adxr(t,e,s,n=t.length){const r=[];r[3*(s-1)-1]=NaN;const o=(s-1)/s,i=1/s;let a=0,l=0;for(let n=1;n<s;++n){let s=t[n]-t[n-1],r=e[n-1]-e[n];s<0?s=0:s>r&&(r=0),r<0?r=0:r>s&&(s=0),a+=s,l+=r}let h=0,u=a,c=l,p=Math.abs(u-c),d=u+c,f=p/d*100;h+=f;const g={size:s-1,pushes:0,index:0,vals:[]},N=3*(s-1);for(let m=s;m<n;++m){let n=t[m]-t[m-1],x=e[m-1]-e[m];if(n<0?n=0:n>x&&(x=0),x<0?x=0:x>n&&(n=0),a=a*o+n,l=l*o+x,u=a,c=l,p=Math.abs(u-c),d=u+c,f=p/d*100,m-s<s-2)h+=f;else if(m-s==s-2)h+=f,g.vals[g.index]=h*i,g.index=g.index+1,g.index>=g.size&&(g.index=0);else{if(h=h*o+f,m>=N){const t=g.vals[g.index]+(g.size-1+1)%g.size;r.push(.5*(h*i+t))}g.vals[g.index]=h*i,g.index=g.index+1,g.index>=g.size&&(g.index=0)}}return r}ao(t,e,s=t.length){const n=[];n[32]=NaN;let r=0,o=0;const i=1/34;for(let s=0;s<34;++s){const n=.5*(t[s]+e[s]);r+=n,s>=29&&(o+=n)}n.push(.2*o-i*r);for(let a=34;a<s;++a){const s=.5*(t[a]+e[a]);r+=s,o+=s,r-=.5*(t[a-34]+e[a-34]),o-=.5*(t[a-5]+e[a-5]),n.push(.2*o-i*r)}return n}apo(t,e,s,n=t.length){const r=[];r[0]=NaN;const o=2/(e+1),i=2/(s+1);let a=t[0],l=t[0];for(let e=1;e<n;++e){a=(t[e]-a)*o+a,l=(t[e]-l)*i+l;const s=a-l;r.push(s)}return r}aroon(t,e,s,n=t.length){const r=[],o=[];r[s-1]=NaN,o[s-1]=NaN;const i=100/s;let a,l,h=0,u=-1,c=-1,p=t[0],d=e[0];for(let f=s;f<n;++f,++h){if(a=t[f],u<h)for(u=h,p=t[u],l=h;++l<=f;)a=t[l],a>=p&&(p=a,u=l);else a>=p&&(u=f,p=a);if(a=e[f],c<h)for(c=h,d=e[c],l=h;++l<=f;)a=e[l],a<=d&&(d=a,c=l);else a<=d&&(c=f,d=a);r[r.length]=(s-(f-c))*i,o[o.length]=(s-(f-u))*i}return[r,o]}aroonosc(t,e,s,n=t.length){const r=[];r[s-1]=NaN;const o=100/s;let i,a=0,l=-1,h=-1,u=t[0],c=e[0];for(let p=s;p<n;++p,++a){let s=t[p];if(l<a)for(l=a,u=t[l],i=a;++i<=p;)s=t[i],s>=u&&(u=s,l=i);else s>=u&&(l=p,u=s);if(s=e[p],h<a)for(h=a,c=e[h],i=a;++i<=p;)s=e[i],s<=c&&(c=s,h=i);else s<=c&&(h=p,c=s);r.push((l-h)*o)}return r}atr(t,e,s,n,r=t.length){const o=[];o[n-2]=NaN;const i=1/n;let a,l=0;l+=t[0]-e[0];for(let r=1;r<n;++r){const n=e[r],o=t[r],i=s[r-1],h=Math.abs(o-i),u=Math.abs(n-i);let c=o-n;h>c&&(c=h),u>c&&(c=u),a=c,l+=a}let h=l/n;o.push(h);for(let l=n;l<r;++l){const n=e[l],r=t[l],u=s[l-1],c=Math.abs(r-u),p=Math.abs(n-u);let d=r-n;c>d&&(d=c),p>d&&(d=p),a=d,h=(a-h)*i+h,o.push(h)}return o}avgprice(t,e,s,n,r=t.length){const o=[];for(let i=0;i<r;++i)o.push(.25*(t[i]+e[i]+s[i]+n[i]));return o}bbands(t,e,s,n=t.length){const r=[],o=[],i=[];r[e-2]=NaN,o[e-2]=NaN,i[e-2]=NaN;const a=1/e;let l=0,h=0;for(let s=0;s<e;++s)l+=t[s],h+=t[s]*t[s];let u=Math.sqrt(h*a-l*a*(l*a));const c=l*a;r.push(c-s*u),i.push(c+s*u),o.push(c);for(let c=e;c<n;++c){l+=t[c],h+=t[c]*t[c],l-=t[c-e],h-=t[c-e]*t[c-e],u=Math.sqrt(h*a-l*a*(l*a));const n=l*a;i.push(n+s*u),r.push(n-s*u),o.push(n)}return[r,o,i]}bop(t,e,s,n,r=t.length){const o=[];for(let i=0;i<r;++i){const r=e[i]-s[i];o[i]=r<=0?0:(n[i]-t[i])/r}return o}cci(t,e,s,r,o=t.length){const i=1/r,a=[];a[2*(r-2)+1]=NaN;const l=new n.f(r);let h,u;for(h=0;h<o;++h){const n=(t[h]+e[h]+s[h])*(1/3);l.push(n);const o=l.sum*i;if(h>=2*r-2){let t=0;for(u=0;u<r;++u)t+=Math.abs(o-l.vals[u]);let e=t*i;e*=.015,e=(n-o)/e,a.push(e)}}return a}cmo(t,e,s=t.length){const n=[];n[e-1]=NaN;let r=0,o=0;for(let s=1;s<=e;++s)r+=t[s]>t[s-1]?t[s]-t[s-1]:0,o+=t[s]<t[s-1]?t[s-1]-t[s]:0;n.push(100*(r-o)/(r+o));for(let i=e+1;i<s;++i)r-=t[i-e]>t[i-e-1]?t[i-e]-t[i-e-1]:0,o-=t[i-e]<t[i-e-1]?t[i-e-1]-t[i-e]:0,r+=t[i]>t[i-1]?t[i]-t[i-1]:0,o+=t[i]<t[i-1]?t[i-1]-t[i]:0,n.push(100*(r-o)/(r+o));return n}crossany(t,e,s=t.length){const n=[];for(let r=0;r<s;++r)n.push(t[r]>e[r]&&t[r-1]<=e[r-1]||t[r]<e[r]&&t[r-1]>=e[r-1]);return n}crossover(t,e,s=t.length){const n=[];for(let r=0;r<s;++r)n.push(t[r]>e[r]&&t[r-1]<=e[r-1]);return n}crossOverNumber(t,e){const s=[];for(let n=0;n<t.length;n++){const r=t[n],o=t[n-1];r>e&&o<=e?s.push(!0):s.push(!1)}return s}crossUnderNumber(t,e){const s=[];for(let n=0;n<t.length;n++){const r=t[n],o=t[n-1];r<e&&o>=e?s.push(!0):s.push(!1)}return s}cvi(t,e,s,r=t.length){const o=[];o[2*(s-1)]=NaN;const i=2/(s+1),a=new n.f(s);let l,h=t[0]-e[0];for(l=1;l<2*s-1;++l)h=(t[l]-e[l]-h)*i+h,a.qpush(h);for(l=2*s-1;l<r;++l){h=(t[l]-e[l]-h)*i+h;const s=a.vals[a.index];o.push(100*(h-s)/s),a.qpush(h)}return o}decay(t,e,s=t.length){const n=[],r=1/e;n.push(t[0]);for(let e=1;e<s;++e){const s=n[n.length-1]-r;n.push(t[e]>s?t[e]:s)}return n}dema(t,e,s=t.length){const n=[];n[2*(e-1)-1]=NaN;const r=2/(e+1),o=1-r;let i=t[0],a=i;for(let l=0;l<s;++l)i=i*o+t[l]*r,l==e-1&&(a=i),l>=e-1&&(a=a*o+i*r,l>=2*(e-1)&&n.push(2*i-a));return n}di(t,e,s,n,r=t.length){const o=[],i=[];o[n-2]=NaN,i[n-2]=NaN;const a=(n-1)/n;let l=0,h=0,u=0;for(let r=1;r<n;++r){const n=e[r],o=t[r],i=s[r-1],a=Math.abs(o-i),c=Math.abs(n-i);let p=o-n;a>p&&(p=a),c>p&&(p=c),l+=p;let d=t[r]-t[r-1],f=e[r-1]-e[r];d<0?d=0:d>f&&(f=0),f<0?f=0:f>d&&(d=0),h+=d,u+=f}o.push(100*h/l),i.push(100*u/l);for(let c=n;c<r;++c){const n=e[c],r=t[c],p=s[c-1],d=Math.abs(r-p),f=Math.abs(n-p);let g=r-n;d>g&&(g=d),f>g&&(g=f),l=l*a+g;let N=t[c]-t[c-1],m=e[c-1]-e[c];N<0?N=0:N>m&&(m=0),m<0?m=0:m>N&&(N=0),h=h*a+N,u=u*a+m,o.push(100*h/l),i.push(100*u/l)}return[o,i]}dm(t,e,s,n=t.length){const r=[],o=[];r[s-2]=NaN,o[s-2]=NaN;const i=(s-1)/s;let a=0,l=0;for(let n=1;n<s;++n){let s=t[n]-t[n-1],r=e[n-1]-e[n];s<0?s=0:s>r&&(r=0),r<0?r=0:r>s&&(s=0),a+=s,l+=r}r.push(a),o.push(l);for(let h=s;h<n;++h){let s=t[h]-t[h-1],n=e[h-1]-e[h];s<0?s=0:s>n&&(n=0),n<0?n=0:n>s&&(s=0),a=a*i+s,l=l*i+n,r.push(a),o.push(l)}return[r,o]}dpo(t,e,s=t.length){const n=e/2+1,r=[];r[e-2]=NaN;const o=1/e;let i=0;for(let s=0;s<e;++s)i+=t[s];r.push(t[e-1-n]-i*o);for(let a=e;a<s;++a)i+=t[a],i-=t[a-e],r.push(t[a-n]-i*o);return r}dx(t,e,s,n=t.length){const r=[];r[s-2]=NaN;const o=(s-1)/s;let i=0,a=0;for(let n=1;n<s;++n){let s=t[n]-t[n-1],r=e[n-1]-e[n];s<0?s=0:s>r&&(r=0),r<0?r=0:r>s&&(s=0),i+=s,a+=r}let l=i,h=a,u=Math.abs(l-h),c=l+h,p=u/c*100;r.push(p);for(let d=s;d<n;++d){let s=t[d]-t[d-1],n=e[d-1]-e[d];s<0?s=0:s>n&&(n=0),n<0?n=0:n>s&&(s=0),i=i*o+s,a=a*o+n,l=i,h=a,u=Math.abs(l-h),c=l+h,p=u/c*100,r.push(p)}return r}edecay(t,e,s=t.length){const n=[],r=1-1/e;n.push(t[0]);for(let e=1;e<s;++e){const s=n[n.length-1]*r;n.push(t[e]>s?t[e]:s)}return n}ema(t,e,s=t.length){const n=[],r=2/(e+1);let o=t[0];n.push(o);for(let e=1;e<s;++e)o=(t[e]-o)*r+o,n.push(o);return n}emv(t,e,s,n=t.length){const r=[];r[0]=NaN;let o=.5*(t[0]+e[0]);for(let i=1;i<n;++i){const n=.5*(t[i]+e[i]),a=s[i]/1e4/(t[i]-e[i]);r.push((n-o)/a),o=n}return r}fisher(t,e,s,n=t.length){const r=[],o=[];r[s-2]=NaN,o[s-2]=NaN;let i,a,l=0,h=-1,u=-1,c=.5*(t[0]+e[0]),p=.5*(t[0]+e[0]),d=0,f=0;for(let g=s-1;g<n;++g,++l){if(i=.5*(t[g]+e[g]),h<l)for(h=l,c=.5*(t[h]+e[h]),a=l;++a<=g;)i=.5*(t[a]+e[a]),i>=c&&(c=i,h=a);else i>=c&&(h=g,c=i);if(i=.5*(t[g]+e[g]),u<l)for(u=l,p=.5*(t[u]+e[u]),a=l;++a<=g;)i=.5*(t[a]+e[a]),i<=p&&(p=i,u=a);else i<=p&&(u=g,p=i);let s=c-p;0==s&&(s=.001),d=.66*((.5*(t[g]+e[g])-p)/s-.5)+.67*d,d>.99&&(d=.999),d<-.99&&(d=-.999),o.push(f),f=.5*Math.log((1+d)/(1-d))+.5*f,r.push(f)}return[r,o]}fosc(t,e,s=t.length){const n=[];n[e-1]=NaN;let r=0,o=0,i=0,a=0;const l=1/e;let h=0;for(let s=0;s<e-1;++s)r+=s+1,o+=(s+1)*(s+1),a+=t[s]*(s+1),i+=t[s];r+=e,o+=e*e;const u=1/(e*o-r*r);for(let o=e-1;o<s;++o){a+=t[o]*e,i+=t[o];const s=(e*a-r*i)*u,c=(i-s*r)*l;o>=e&&n.push(100*(t[o]-h)/t[o]),h=c+s*(e+1),a-=i,i-=t[o-e+1]}return n}hma(t,e,s=t.length){const r=[],o=Math.floor(e/2),i=Math.floor(Math.sqrt(e)),a=e*(e+1)/2,l=o*(o+1)/2,h=i*(i+1)/2;r[e-1+i-2]=NaN;let u,c=0,p=0,d=0,f=0,g=0,N=0;for(u=0;u<e-1;++u)p+=t[u]*(u+1),c+=t[u],u>=e-o&&(f+=t[u]*(u+1-(e-o)),d+=t[u]);const m=new n.f(i);for(u=e-1;u<s;++u){p+=t[u]*e,c+=t[u],f+=t[u]*o,d+=t[u];const s=f/l*2-p/a;N+=s*i,g+=s,m.qpush(s),u>=e-1+(i-1)?(r.push(N/h),N-=g,g-=m.get(1)):N-=g,p-=c,c-=t[u-e+1],f-=d,d-=t[u-o+1]}return r}kama(t,e,s=t.length){const n=[];n[e-2]=NaN;const r=2/31;let o=0;for(let s=1;s<e;++s)o+=Math.abs(t[s]-t[s-1]);let i,a,l=t[e-1];n.push(l);for(let h=e;h<s;++h)o+=Math.abs(t[h]-t[h-1]),h>e&&(o-=Math.abs(t[h-e]-t[h-e-1])),i=0!=o?Math.abs(t[h]-t[h-e])/o:1,a=Math.pow(.6021505376344085*i+r,2),l+=a*(t[h]-l),n.push(l);return n}kvo(t,e,s,n,r,o,i=t.length){const a=2/(r+1),l=2/(o+1),h=[];h[0]=NaN;let u=0,c=t[0]+e[0]+s[0],p=-1,d=0,f=0;for(let r=1;r<i;++r){const o=t[r]+e[r]+s[r],i=t[r]-e[r];o>c&&1!=p?(p=1,u=t[r-1]-e[r-1]):o<c&&0!=p&&(p=0,u=t[r-1]-e[r-1]),u+=i;const g=n[r]*Math.abs(i/u*2-1)*100*(p?1:-1);1==r?(d=g,f=g):(d=(g-d)*a+d,f=(g-f)*l+f),h.push(d-f),c=o}return h}lag(t,e,s=t.length){const n=[];n[e-1]=NaN;for(let r=e;r<s;++r)n.push(t[r-e]);return n}linreg(t,e,s=t.length){const n=[];n[e-2]=NaN;let r=0,o=0,i=0,a=0;const l=1/e;for(let s=0;s<e-1;++s)r+=s+1,o+=(s+1)*(s+1),a+=t[s]*(s+1),i+=t[s];r+=e,o+=e*e;const h=1/(e*o-r*r);for(let o=e-1;o<s;++o){a+=t[o]*e,i+=t[o];const s=(e*a-r*i)*h,u=(i-s*r)*l;n.push(u+s*e),a-=i,i-=t[o-e+1]}return n}linregintercept(t,e,s=t.length){const n=[];n[e-2]=NaN;let r=0,o=0,i=0,a=0;const l=1/e;for(let s=0;s<e-1;++s)r+=s+1,o+=(s+1)*(s+1),a+=t[s]*(s+1),i+=t[s];r+=e,o+=e*e;const h=1/(e*o-r*r);for(let o=e-1;o<s;++o){a+=t[o]*e,i+=t[o];const s=(e*a-r*i)*h,u=(i-s*r)*l;n.push(u+1*s),a-=i,i-=t[o-e+1]}return n}linregslope(t,e,s=t.length){const n=[];n[e-2]=NaN;let r=0,o=0,i=0,a=0;for(let s=0;s<e-1;++s)r+=s+1,o+=(s+1)*(s+1),a+=t[s]*(s+1),i+=t[s];r+=e,o+=e*e;const l=1/(e*o-r*r);for(let o=e-1;o<s;++o){a+=t[o]*e,i+=t[o];const s=(e*a-r*i)*l;n.push(s),a-=i,i-=t[o-e+1]}return n}macd(t,e,s,n,r=t.length){const o=[],i=[],a=[];o[s-2]=NaN,i[s-2]=NaN,a[s-2]=NaN;const l=2/(e+1),h=2/(s+1),u=2/(n+1);let c=t[0],p=t[0],d=0;for(let e=1;e<r;++e){c=(t[e]-c)*l+c,p=(t[e]-p)*h+p;const n=c-p;e==s-1&&(d=n),e>=s-1&&(d=(n-d)*u+d,o.push(n),i.push(d),a.push(n-d))}return[o,i,a]}marketfi(t,e,s,n=t.length){const r=[];for(let o=0;o<n;++o)r.push((t[o]-e[o])/s[o]);return r}mass(t,e,s,n=t.length){const r=[];r[16+s-2]=NaN;let o=t[0]-e[0],i=o;const a={index:0,pushes:0,size:s,sum:0,vals:[]};for(let l=0;l<n;++l)o=.8*o+.2*(t[l]-e[l]),8==l&&(i=o),l>=8&&(i=.8*i+.2*o,l>=16&&(a.pushes>=a.size&&(a.sum-=a.vals[a.index]),a.sum+=o/i,a.vals[a.index]=o/i,a.pushes+=1,a.index=a.index+1,a.index>=a.size&&(a.index=0),l>=16+s-1&&r.push(a.sum)));return r}max(t,e,s=t.length){const n=[];n[e-2]=NaN;let r,o=0,i=-1,a=t[0];for(let l=e-1;l<s;++l,++o){let e=t[l];if(i<o)for(i=o,a=t[i],r=o;++r<=l;)e=t[r],e>=a&&(a=e,i=r);else e>=a&&(i=l,a=e);n.push(a)}return n}md(t,e,s=t.length){const n=[];n[e-2]=NaN;const r=1/e;let o,i=0;for(let a=0;a<s;++a){i+=t[a],a>=e&&(i-=t[a-e]);const s=i*r;if(a>=e-1){let i=0;for(o=0;o<e;++o)i+=Math.abs(s-t[a-o]);n.push(i*r)}}return n}medprice(t,e,s=t.length){const n=[];for(let r=0;r<s;++r)n.push(.5*(t[r]+e[r]));return n}mfi(t,e,s,n,r,o=t.length){const i=[];i[r-1]=NaN;let a=(t[0]+e[0]+s[0])*(1/3);const l={size:r,index:0,pushes:0,sum:0,vals:[]},h={size:r,index:0,pushes:0,sum:0,vals:[]};for(let u=1;u<o;++u){const o=(t[u]+e[u]+s[u])*(1/3),c=o*n[u];o>a?(l.pushes>=l.size&&(l.sum-=l.vals[l.index]),l.sum+=c,l.vals[l.index]=c,l.pushes+=1,l.index=l.index+1,l.index>=l.size&&(l.index=0),h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=0,h.vals[h.index]=0,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0)):o<a?(h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=c,h.vals[h.index]=c,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0),l.pushes>=l.size&&(l.sum-=l.vals[l.index]),l.sum+=0,l.vals[l.index]=0,l.pushes+=1,l.index=l.index+1,l.index>=l.size&&(l.index=0)):(l.pushes>=l.size&&(l.sum-=l.vals[l.index]),l.sum+=0,l.vals[l.index]=0,l.pushes+=1,l.index=l.index+1,l.index>=l.size&&(l.index=0),h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=0,h.vals[h.index]=0,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0)),a=o,u>=r&&i.push(l.sum/(l.sum+h.sum)*100)}return i}min(t,e,s=t.length){const n=[];n[e-2]=NaN;let r,o=0,i=-1,a=t[0];for(let l=e-1;l<s;++l,++o){let e=t[l];if(i<o)for(i=o,a=t[i],r=o;++r<=l;)e=t[r],e<=a&&(a=e,i=r);else e<=a&&(i=l,a=e);n.push(a)}return n}mom(t,e,s=t.length){const n=[];n[e-1]=NaN;for(let r=e;r<s;++r)n.push(t[r]-t[r-e]);return n}msw(t,e,s=t.length){const n=[],r=[];n[e-1]=NaN,r[e-1]=NaN;const o=3.1415926,i=2*o;let a,l,h,u,c=0;for(let p=e;p<s;++p){for(l=0,h=0,u=0;u<e;++u)c=t[p-u],l+=Math.cos(i*u/e)*c,h+=Math.sin(i*u/e)*c;a=Math.abs(l)>.001?Math.atan(h/l):i/2*(h<0?-1:1),l<0&&(a+=o),a+=o/2,a<0&&(a+=i),a>i&&(a-=i),n.push(Math.sin(a)),r.push(Math.sin(a+o/4))}return[n,r]}natr(t,e,s,n,r=t.length){const o=[];o[n-2]=NaN;const i=1/n;let a,l=0;l+=t[0]-e[0];for(let r=1;r<n;++r){const n=e[r],o=t[r],i=s[r-1],h=Math.abs(o-i),u=Math.abs(n-i);let c=o-n;h>c&&(c=h),u>c&&(c=u),a=c,l+=a}let h=l/n;o.push(100*h/s[n-1]);for(let l=n;l<r;++l){const n=e[l],r=t[l],u=s[l-1],c=Math.abs(r-u),p=Math.abs(n-u);let d=r-n;c>d&&(d=c),p>d&&(d=p),a=d,h=(a-h)*i+h,o.push(100*h/s[l])}return o}nvi(t,e,s=t.length){const n=[];let r=1e3;n.push(r);for(let o=1;o<s;++o)e[o]<e[o-1]&&(r+=(t[o]-t[o-1])/t[o-1]*r),n.push(r);return n}obv(t,e,s=t.length){const n=[];let r=0;n.push(r);let o=t[0];for(let i=1;i<s;++i)t[i]>o?r+=e[i]:t[i]<o&&(r-=e[i]),o=t[i],n.push(r);return n}ppo(t,e,s,n=t.length){const r=[];r[0]=NaN;const o=2/(e+1),i=2/(s+1);let a=t[0],l=t[0];for(let e=1;e<n;++e){a=(t[e]-a)*o+a,l=(t[e]-l)*i+l;const s=100*(a-l)/l;r.push(s)}return r}psar(t,e,s,n,r=t.length){const o=[];let i,a,l;o[0]=NaN,i=t[0]+e[0]<=t[1]+e[1]?1:0,i?(l=t[0],a=e[0]):(l=e[0],a=t[0]);let h=s;for(let u=1;u<r;++u)a=(l-a)*h+a,i?(u>=2&&a>e[u-2]&&(a=e[u-2]),a>e[u-1]&&(a=e[u-1]),h<n&&t[u]>l&&(h+=s,h>n&&(h=n)),t[u]>l&&(l=t[u])):(u>=2&&a<t[u-2]&&(a=t[u-2]),a<t[u-1]&&(a=t[u-1]),h<n&&e[u]<l&&(h+=s,h>n&&(h=n)),e[u]<l&&(l=e[u])),(i&&e[u]<a||!i&&t[u]>a)&&(h=s,a=l,i=!i,l=i?t[u]:e[u]),o.push(a);return o}pvi(t,e,s=t.length){const n=[];let r=1e3;n.push(r);for(let o=1;o<s;++o)e[o]>e[o-1]&&(r+=(t[o]-t[o-1])/t[o-1]*r),n.push(r);return n}qstick(t,e,s,n=e.length){const r=[];r[s-1]=NaN;const o=1/s;let i,a=0;for(i=0;i<s;++i)a+=e[i]-t[i];for(r.push(a*o),i=s;i<n;++i)a+=e[i]-t[i],a-=e[i-s]-t[i-s],r.push(a*o);return r}roc(t,e,s=t.length){const n=[];n[e-1]=NaN;for(let r=e;r<s;++r)n.push((t[r]-t[r-e])/t[r-e]);return n}rocr(t,e,s=t.length){const n=[];n[e-1]=NaN;for(let r=e;r<s;++r)n.push(t[r]/t[r-e]);return n}rsi(t,e,s=t.length){const n=[];n[e-1]=NaN;const r=1/e;let o=0,i=0;for(let s=1;s<=e;++s)o+=t[s]>t[s-1]?t[s]-t[s-1]:0,i+=t[s]<t[s-1]?t[s-1]-t[s]:0;o/=e,i/=e,n.push(o/(o+i)*100);for(let a=e+1;a<s;++a)o=((t[a]>t[a-1]?t[a]-t[a-1]:0)-o)*r+o,i=((t[a]<t[a-1]?t[a-1]-t[a]:0)-i)*r+i,n.push(o/(o+i)*100);return n}sma(t,e,s=t.length){const n=[];n[e-2]=NaN;const r=1/e;let o=0;for(let s=0;s<e;++s)o+=t[s];n.push(o*r);for(let i=e;i<s;++i)o+=t[i],o-=t[i-e],n.push(o*r);return n}stddev(t,e,s=t.length){const n=[];n[e-2]=NaN;const r=1/e;let o=0,i=0;for(let s=0;s<e;++s)o+=t[s],i+=t[s]*t[s];let a=i*r-o*r*(o*r);a>0&&(a=Math.sqrt(a)),n.push(a);for(let a=e;a<s;++a){o+=t[a],i+=t[a]*t[a],o-=t[a-e],i-=t[a-e]*t[a-e];let s=i*r-o*r*(o*r);s>0&&(s=Math.sqrt(s)),n.push(s)}return n}stderr(t,e,s=t.length){const n=[];n[e-2]=NaN;const r=1/e;let o=0,i=0;const a=1/Math.sqrt(e);for(let s=0;s<e;++s)o+=t[s],i+=t[s]*t[s];let l=i*r-o*r*(o*r);l>0&&(l=Math.sqrt(l)),n.push(a*l);for(let l=e;l<s;++l){o+=t[l],i+=t[l]*t[l],o-=t[l-e],i-=t[l-e]*t[l-e];let s=i*r-o*r*(o*r);s>0&&(s=Math.sqrt(s)),n.push(a*s)}return n}stoch(t,e,s,n,r,o,i=t.length){const a=1/r,l=1/o,h=[],u=[];h[n+r+o-3-1]=NaN,u[n+r+o-3-1]=NaN;let c,p=0,d=-1,f=-1,g=t[0],N=e[0];const m={size:r,index:0,pushes:0,sum:0,vals:[]},x={size:o,index:0,pushes:0,sum:0,vals:[]};let b;for(let v=0;v<i;++v){if(v>=n&&++p,c=t[v],d<p)for(d=p,g=t[d],b=p;++b<=v;)c=t[b],c>=g&&(g=c,d=b);else c>=g&&(d=v,g=c);if(c=e[v],f<p)for(f=p,N=e[f],b=p;++b<=v;)c=e[b],c<=N&&(N=c,f=b);else c<=N&&(f=v,N=c);const i=g-N,z=0==i?0:(s[v]-N)/i*100;if(m.pushes>=m.size&&(m.sum-=m.vals[m.index]),m.sum+=z,m.vals[m.index]=z,m.pushes+=1,m.index=m.index+1,m.index>=m.size&&(m.index=0),v>=n-1+r-1){const t=m.sum*a;x.pushes>=x.size&&(x.sum-=x.vals[x.index]),x.sum+=t,x.vals[x.index]=t,x.pushes+=1,x.index=x.index+1,x.index>=x.size&&(x.index=0),v>=n-1+r-1+o-1&&(h.push(t),u.push(x.sum*l))}}return[h,u]}stochrsi(t,e,s=t.length){const n=[];n[2*e-2]=NaN;const r=1/e,o={size:e,index:0,pushes:0,sum:0,vals:[]};let i=0,a=0;for(let s=1;s<=e;++s)i+=t[s]>t[s-1]?t[s]-t[s-1]:0,a+=t[s]<t[s-1]?t[s-1]-t[s]:0;i/=e,a/=e;let l=i/(i+a)*100;o.pushes>=o.size&&(o.sum-=o.vals[o.index]),o.sum+=l,o.vals[o.index]=l,o.pushes+=1,o.index=o.index+1,o.index>=o.size&&(o.index=0);let h=l,u=l,c=0,p=0;for(let d=e+1;d<s;++d){if(i=((t[d]>t[d-1]?t[d]-t[d-1]:0)-i)*r+i,a=((t[d]<t[d-1]?t[d-1]-t[d]:0)-a)*r+a,l=i/(i+a)*100,l>u)u=l,p=o.index;else if(p==o.index){u=l;for(let t=0;t<o.size;++t)t!=o.index&&o.vals[t]>u&&(u=o.vals[t],p=t)}if(l<h)h=l,c=o.index;else if(c==o.index){h=l;for(let t=0;t<o.size;++t)t!=o.index&&o.vals[t]<h&&(h=o.vals[t],c=t)}if(o.vals[o.index]=l,o.index=o.index+1,o.index>=o.size&&(o.index=0),d>2*e-2){const t=u-h;0==t?n.push(0):n.push((l-h)/t)}}return n}sum(t,e,s=t.length){const n=[];n[e-2]=NaN;let r=0;for(let s=0;s<e;++s)r+=t[s];n.push(r);for(let o=e;o<s;++o)r+=t[o],r-=t[o-e],n.push(r);return n}tema(t,e,s=t.length){const n=[];n[3*(e-1)-1]=NaN;const r=2/(e+1),o=1-r;let i=t[0],a=0,l=0;for(let h=0;h<s;++h)i=i*o+t[h]*r,h==e-1&&(a=i),h>=e-1&&(a=a*o+i*r,h==2*(e-1)&&(l=a),h>=2*(e-1)&&(l=l*o+a*r,h>=3*(e-1)&&n.push(3*i-3*a+l)));return n}tr(t,e,s,n=t.length){const r=[];let o;r[0]=t[0]-e[0];for(let i=1;i<n;++i){const n=e[i],a=t[i],l=s[i-1],h=Math.abs(a-l),u=Math.abs(n-l);let c=a-n;h>c&&(c=h),u>c&&(c=u),o=c,r.push(o)}return r}trima(t,e,s=t.length){const n=[];n[e-2]=NaN;const r=1/(e%2?(e/2+1)*(e/2+1):e/2*(e/2+1));let o=0,i=0,a=0;const l=e%2?e/2:e/2-1,h=l+1;let u=1;for(let s=0;s<e-1;++s)o+=t[s]*u,s+1>e-l&&(i+=t[s]),s+1<=h&&(a+=t[s]),s+1<h&&++u,s+1>=e-l&&--u;let c=e-1-l+1,p=e-1-e+1+h,d=e-1-e+1;for(let l=e-1;l<s;++l)o+=t[l],n.push(o*r),i+=t[l],o+=i,o-=a,i-=t[c++],a+=t[p++],a-=t[d++];return n}trix(t,e,s=t.length){const n=[];n[3*(e-1)+1-1]=NaN;const r=3*e-2,o=2/(e+1);let i=t[0],a=0,l=0;for(let s=1;s<r;++s)i=(t[s]-i)*o+i,s==e-1?a=i:s>e-1&&(a=(i-a)*o+a,s==2*e-2?l=a:s>2*e-2&&(l=(a-l)*o+l));for(let e=r;e<s;++e){i=(t[e]-i)*o+i,a=(i-a)*o+a;const s=l;l=(a-l)*o+l,n.push((l-s)/l*100)}return n}tsf(t,e,s=t.length){const n=[];n[e-2]=NaN;let r=0,o=0,i=0,a=0;const l=1/e;for(let s=0;s<e-1;++s)r+=s+1,o+=(s+1)*(s+1),a+=t[s]*(s+1),i+=t[s];r+=e,o+=e*e;const h=1/(e*o-r*r);for(let o=e-1;o<s;++o){a+=t[o]*e,i+=t[o];const s=(e*a-r*i)*h,u=(i-s*r)*l;n.push(u+s*(e+1)),a-=i,i-=t[o-e+1]}return n}typprice(t,e,s,n=t.length){const r=[];for(let o=0;o<n;++o)r.push((t[o]+e[o]+s[o])*(1/3));return r}ultosc(t,e,s,n,r,o,i=t.length){const a=[];a[o-1]=NaN;const l={size:o,index:0,pushes:0,sum:0,vals:[]},h={size:o,index:0,pushes:0,sum:0,vals:[]};let u=0,c=0,p=0,d=0;for(let f=1;f<i;++f){const i=e[f]<s[f-1]?e[f]:s[f-1],g=t[f]>s[f-1]?t[f]:s[f-1],N=s[f]-i,m=g-i;if(u+=N,c+=N,p+=m,d+=m,l.pushes>=l.size&&(l.sum-=l.vals[l.index]),l.sum+=N,l.vals[l.index]=N,l.pushes+=1,l.index=l.index+1,l.index>=l.size&&(l.index=0),h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=m,h.vals[h.index]=m,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0),f>n){let t=l.index-n-1;if(t<0&&(t+=o),u-=l.vals[t],p-=h.vals[t],f>r){let t=l.index-r-1;t<0&&(t+=o),c-=l.vals[t],d-=h.vals[t]}}if(f>=o){const t=100*(4*u/p+2*c/d+1*l.sum/h.sum)/7;a.push(t)}}return a}var(t,e,s=t.length){const n=[];n[e-2]=NaN;const r=1/e;let o=0,i=0;for(let s=0;s<e;++s)o+=t[s],i+=t[s]*t[s];n.push(i*r-o*r*(o*r));for(let a=e;a<s;++a)o+=t[a],i+=t[a]*t[a],o-=t[a-e],i-=t[a-e]*t[a-e],n.push(i*r-o*r*(o*r));return n}vhf(t,e,s=t.length){const n=[];n[e-1]=NaN;let r,o,i,a=1,l=-1,h=-1,u=t[0],c=t[0],p=0,d=t[0];for(let s=1;s<e;++s)o=t[s],p+=Math.abs(o-d),d=o;for(let f=e;f<s;++f,++a){if(o=t[f],p+=Math.abs(o-d),d=o,f>e&&(p-=Math.abs(t[f-e]-t[f-e-1])),r=o,l<a)for(l=a,u=t[l],i=a;++i<=f;)r=t[i],r>=u&&(u=r,l=i);else r>=u&&(l=f,u=r);if(r=o,h<a)for(h=a,c=t[h],i=a;++i<=f;)r=t[i],r<=c&&(c=r,h=i);else r<=c&&(h=f,c=r);n.push(Math.abs(u-c)/p)}return n}vidya(t,e,s,n,r=t.length){const o=[];o[s-3]=NaN;const i=1/e,a=1/s;let l=0,h=0,u=0,c=0;for(let n=0;n<s;++n)u+=t[n],c+=t[n]*t[n],n>=s-e&&(l+=t[n],h+=t[n]*t[n]);let p=t[s-2];if(o.push(p),s-1<r){let e=Math.sqrt(h*i-l*i*(l*i))/Math.sqrt(c*a-u*a*(u*a));e!=e&&(e=0),e*=n,p=(t[s-1]-p)*e+p,o.push(p)}for(let d=s;d<r;++d){u+=t[d],c+=t[d]*t[d],l+=t[d],h+=t[d]*t[d],u-=t[d-s],c-=t[d-s]*t[d-s],l-=t[d-e],h-=t[d-e]*t[d-e];let r=Math.sqrt(h*i-l*i*(l*i))/Math.sqrt(c*a-u*a*(u*a));r!=r&&(r=0),r*=n,p=(t[d]-p)*r+p,o.push(p)}return o}volatility(t,e,s=t.length){const n=[];n[e-1]=NaN;const r=1/e,o=Math.sqrt(252);let i=0,a=0;for(let s=1;s<=e;++s){const e=t[s]/t[s-1]-1;i+=e,a+=e*e}n.push(Math.sqrt(a*r-i*r*(i*r))*o);for(let l=e+1;l<s;++l){const s=t[l]/t[l-1]-1;i+=s,a+=s*s;const h=t[l-e]/t[l-e-1]-1;i-=h,a-=h*h,n.push(Math.sqrt(a*r-i*r*(i*r))*o)}return n}vosc(t,e,s,n=t.length){const r=[];r[s-2]=NaN;const o=1/e,i=1/s;let a=0,l=0;for(let n=0;n<s;++n)n>=s-e&&(a+=t[n]),l+=t[n];const h=a*o,u=l*i;r.push(100*(h-u)/u);for(let h=s;h<n;++h){a+=t[h],a-=t[h-e],l+=t[h],l-=t[h-s];const n=a*o,u=l*i;r.push(100*(n-u)/u)}return r}vwma(t,e,s,n=t.length){const r=[];r[s-2]=NaN;let o=0,i=0;for(let n=0;n<s;++n)o+=t[n]*e[n],i+=e[n];r.push(o/i);for(let a=s;a<n;++a)o+=t[a]*e[a],o-=t[a-s]*e[a-s],i+=e[a],i-=e[a-s],r.push(o/i);return r}wad(t,e,s,n=t.length){const r=[];r[0]=NaN;let o=0,i=s[0];for(let a=1;a<n;++a){const n=s[a];n>i?o+=n-(i<e[a]?i:e[a]):n<i&&(o+=n-(i>t[a]?i:t[a])),r.push(o),i=s[a]}return r}wcprice(t,e,s,n=t.length){const r=[];for(let o=0;o<n;++o)r.push(.25*(t[o]+e[o]+s[o]+s[o]));return r}wilders(t,e,s=t.length){const n=[];n[e-2]=NaN;const r=1/e;let o=0;for(let s=0;s<e;++s)o+=t[s];let i=o/e;n.push(i);for(let o=e;o<s;++o)i=(t[o]-i)*r+i,n.push(i);return n}willr(t,e,s,n,r=t.length){const o=[];o[n-2]=NaN;let i,a,l=0,h=-1,u=-1,c=t[0],p=e[0];for(let d=n-1;d<r;++d,++l){if(i=t[d],h<l)for(h=l,c=t[h],a=l;++a<=d;)i=t[a],i>=c&&(c=i,h=a);else i>=c&&(h=d,c=i);if(i=e[d],u<l)for(u=l,p=e[u],a=l;++a<=d;)i=e[a],i<=p&&(p=i,u=a);else i<=p&&(u=d,p=i);const n=c-p,r=0==n?0:(c-s[d])/n*-100;o.push(r)}return o}wma(t,e,s=t.length){const n=[];n[e-2]=NaN;const r=e*(e+1)/2;let o=0,i=0;for(let s=0;s<e-1;++s)i+=t[s]*(s+1),o+=t[s];for(let a=e-1;a<s;++a)i+=t[a]*e,o+=t[a],n.push(i/r),i-=o,o-=t[a-e+1];return n}zlema(t,e,s=t.length){const n=Math.floor((e-1)/2),r=[];r[(e-2)/2-2]=NaN;const o=2/(e+1);let i,a=t[n-1];for(r.push(a),i=n;i<s;++i){const e=t[i];a=(e+(e-t[i-n])-a)*o+a,r.push(a)}return r}abands(t,e,s,n,r=t.length){const o=[],i=[],a=[];o[n-2]=NaN,i[n-2]=NaN,a[n-2]=NaN;const l=1/n,h={size:n,index:0,pushes:0,sum:0,vals:[]},u={size:n,index:0,pushes:0,sum:0,vals:[]};let c=0;for(let r=0;r<n;++r){const n=4*(t[r]-e[r])/(t[r]+e[r]),o=(1+n)*t[r];h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=o,h.vals[h.index]=o,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0);const i=(1-n)*e[r];u.pushes>=u.size&&(u.sum-=u.vals[u.index]),u.sum+=i,u.vals[u.index]=i,u.pushes+=1,u.index=u.index+1,u.index>=u.size&&(u.index=0),c+=s[r]}o.push(h.sum*l),i.push(u.sum*l),a.push(c*l);for(let p=n;p<r;++p){const r=4*(t[p]-e[p])/(t[p]+e[p]),d=(1+r)*t[p];h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=d,h.vals[h.index]=d,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0);const f=(1-r)*e[p];u.pushes>=u.size&&(u.sum-=u.vals[u.index]),u.sum+=f,u.vals[u.index]=f,u.pushes+=1,u.index=u.index+1,u.index>=u.size&&(u.index=0),c+=s[p]-s[p-n],o.push(h.sum*l),i.push(u.sum*l),a.push(c*l)}return[o,i,a]}alma(t,e,s,n,r=t.length){const o=[];o[e-2]=NaN;const i=[],a=Math.floor(s*(e-1)),l=e/n;let h=0;for(let t=0;t<e;t++)i[t]=Math.exp(-1*Math.pow(t-a,2)/(2*Math.pow(l,2))),h+=i[t];for(let t=0;t<e;t++)i[t]/=h;for(let s=e-1;s<r;s++){let n=0;for(let r=0;r<e;r++)n+=t[s-e+r+1]*i[r];o.push(n)}return o}ce(t,e,s,n,r,o=t.length){const i=[],a=[];i[n-2]=NaN,a[n-2]=NaN;let l,h,u=t[0]-e[0],c=t[0],p=0,d=e[0],f=0;for(let r=1;r<n;++r){const n=e[r],o=t[r],i=s[r-1],a=Math.abs(o-i),g=Math.abs(n-i);let N=o-n;a>N&&(N=a),g>N&&(N=g),l=N,u+=l,c<=(h=t[r])&&(c=h,p=r),d>=(h=e[r])&&(d=h,f=r)}u/=n;const g=(n-1)/n,N=1/n;i.push(c-r*u),a.push(d+r*u);for(let m=n;m<o;++m){const o=e[m],x=t[m],b=s[m-1],v=Math.abs(x-b),z=Math.abs(o-b);let w=x-o;if(v>w&&(w=v),z>w&&(w=z),l=w,u=u*g+l*N,c<=(h=t[m]))c=h,p=m;else if(p==m-n){c=t[m-n+1],p=m-n+1;for(let e=m-n+2;e<=m;++e)c<=(h=t[e])&&(c=h,p=e)}if(d>=(h=e[m]))d=h,f=m;else if(f==m-n){d=e[m-n+1],f=m-n+1;for(let t=m-n+2;t<=m;++t)d>=(h=e[t])&&(d=h,f=t)}i.push(c-r*u),a.push(d+r*u)}return[i,a]}cmf(t,e,s,n,r,o=t.length){const i=[];i[r-2]=NaN;let a=0,l=0;for(let o=0;o<r-1;++o)l+=t[o]-e[o]?n[o]*(s[o]-e[o]-(t[o]-s[o]))/(t[o]-e[o]):0,a+=n[o];for(let h=r-1;h<o;++h)l+=t[h]-e[h]?n[h]*(s[h]-e[h]-(t[h]-s[h]))/(t[h]-e[h]):0,a+=n[h],i.push(l/a),l-=t[h-r+1]-e[h-r+1]?n[h-r+1]*(s[h-r+1]-e[h-r+1]-(t[h-r+1]-s[h-r+1]))/(t[h-r+1]-e[h-r+1]):0,a-=n[h-r+1];return i}copp(t,e,s){const n=new Array(t.length),r=new Array(t.length),o=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=i<e-1?null:(t[i]-t[i-e])/t[i-e]*100,r[i]=i<s-1?null:(t[i]-t[i-s])/t[i-s]*100,o[i]=10*(n[i]+r[i]);return o}dc(t,e,s){const n=[],r=[],o=[];n[s-2]=NaN,r[s-2]=NaN,o[s-2]=NaN;for(let i=s-1;i<t.length;i++)n.push(Math.max(...t.slice(i-s+1,i+1))),r.push(Math.min(...e.slice(i-s+1,i+1))),o.push((n[n.length-1]+r[r.length-1])/2);return[n,o,r]}fi(t,e,s,n=t.length){const r=[];r[0]=NaN;const o=2/(s+1);let i=e[1]*(t[1]-t[0]);for(let s=1;s<n;++s)i=(e[s]*(t[s]-t[s-1])-i)*o+i,r.push(i);return r}ikhts(){}kc(t,e,s,n,r,o=t.length){const i=[],a=[],l=[],h=2/(n+1);let u=s[0],c=t[0]-e[0];i.push(u-r*c),a.push(u),l.push(u+r*c);let p=0;for(let n=1;n<o;++n){u=(s[n]-u)*h+u;const o=e[n],d=t[n],f=s[n-1],g=Math.abs(d-f),N=Math.abs(o-f);let m=d-o;g>m&&(m=g),N>m&&(m=N),p=m,c=(p-c)*h+c,i.push(u-r*c),a.push(u),l.push(u+r*c)}return[i,a,l]}kst(t,e,s,n,r,o,i,a,l,h=t.length){const u=[],c=[];u[r-1]=NaN,c[r-1]=NaN;let p=o;p<i&&(p=i),p<a&&(p=a),p<l&&(p=l);const d=2/(o+1),f=2/(i+1),g=2/(a+1),N=2/(l+1);function m(e,s){return(t[e]-t[e-s])/t[e-s]}let x=m(e,e),b=m(s,s),v=m(n,n),z=m(r,r);for(let t=e+1;t<r+1&&t<h;++t)x=(m(t,e)-x)*d+x;for(let t=s+1;t<r+1&&t<h;++t)b=(m(t,s)-b)*f+b;for(let t=n+1;t<r+1&&t<h;++t)v=(m(t,n)-v)*g+v;for(let t=r+1;t<r+1&&t<h;++t)z=(m(t,r)-z)*N+z;let w=(1*x+2*b+3*v+4*z)/10;c.push(w);let M=w;u.push(M);for(let t=r+1;t<h;++t)x=(m(t,e)-x)*d+x,b=(m(t,s)-b)*f+b,v=(m(t,n)-v)*g+v,z=(m(t,r)-z)*N+z,w=(1*x+2*b+3*v+4*z)/10,u.push(w),M=.2*(w-M)+M,c.push(M);return[u,c]}mama(){}pbands(t,e,s,n,r=t.length){const o=[],i=[];o[n-2]=NaN,i[n-2]=NaN;let a=0,l=0;const h=n*(n+1)/2,u=n*(n+1)*(2*n+1)/6;let c;for(c=0;c<n;++c)l+=s[c]*(c+1),a+=s[c];--c;const p=(l/n-h/n*a/n)/(u/n-h/n*(h/n));let d=t[c];for(let e=1;e<n;++e)d<t[c-e]+e*p&&(d=t[c-e]+e*p);let f=e[c];for(let t=1;t<n;++t)f>e[c-t]+t*p&&(f=e[c-t]+t*p);for(i.push(d),o.push(f),++c;c<r;++c){l+=-a+s[c]*n,a+=-s[c-n]+s[c];const r=(l/n-h/n*a/n)/(u/n-h/n*(h/n));let p=t[c];for(let e=1;e<n;++e)p<t[c-e]+e*r&&(p=t[c-e]+e*r);let d=e[c];for(let t=1;t<n;++t)d>e[c-t]+t*r&&(d=e[c-t]+t*r);o.push(d),i.push(p)}return[o,i]}pc(){}pfe(t,e,s,n=t.length){const r=[];r[e-1]=NaN;const o=2/(s+1),i={size:e,index:0,pushes:0,sum:0,vals:[]};let a;for(a=1;a<e;++a)i.pushes>=i.size&&(i.sum-=i.vals[i.index]),i.sum+=Math.sqrt(Math.pow(t[a]-t[a-1],2)+1),i.vals[i.index]=Math.sqrt(Math.pow(t[a]-t[a-1],2)+1),i.pushes+=1,i.index=i.index+1,i.index>=i.size&&(i.index=0);i.pushes>=i.size&&(i.sum-=i.vals[i.index]),i.sum+=Math.sqrt(Math.pow(t[a]-t[a-1],2)+1),i.vals[i.index]=Math.sqrt(Math.pow(t[a]-t[a-1],2)+1),i.pushes+=1,i.index=i.index+1,i.index>=i.size&&(i.index=0);let l=100*(t[a]-t[a-e]>0?1:-1)*Math.sqrt(Math.pow(t[a]-t[a-e],2)+100)/i.sum;for(r.push(l),a=e+1;a<n;++a)i.pushes>=i.size&&(i.sum-=i.vals[i.index]),i.sum+=Math.sqrt(Math.pow(t[a]-t[a-1],2)+1),i.vals[i.index]=Math.sqrt(Math.pow(t[a]-t[a-1],2)+1),i.pushes+=1,i.index=i.index+1,i.index>=i.size&&(i.index=0),l=(100*(t[a]-t[a-e]>0?1:-1)*Math.sqrt(Math.pow(t[a]-t[a-e],2)+100)/i.sum-l)*o+l,r.push(l);return r}posc(t,e,s,n,r,o=t.length){const i=[];i[n-2]=NaN;let a,l=0,h=0;const u=n*(n+1)/2,c=n*(n+1)*(2*n+1)/6;let p;for(p=0;p<n;++p)h+=s[p]*(p+1),l+=s[p];--p;const d=(h/n-u/n*l/n)/(c/n-u/n*(u/n));let f=t[p];for(let e=1;e<n;++e)f<t[p-e]+e*d&&(f=t[p-e]+e*d);let g=e[p];for(let t=1;t<n;++t)g>e[p-t]+t*d&&(g=e[p-t]+t*d);for(a=(s[p]-g)/(f-g)*100,i.push(a),++p;p<o;++p){h+=-l+s[p]*n,l+=-s[p-n]+s[p];const o=(h/n-u/n*l/n)/(c/n-u/n*(u/n));let d=t[p];for(let e=1;e<n;++e)d<t[p-e]+e*o&&(d=t[p-e]+e*o);let f=e[p];for(let t=1;t<n;++t)f>e[p-t]+t*o&&(f=e[p-t]+t*o);a=2*((s[p]-f)/(d-f)*100-a)/(1+r)+a,i.push(a)}return i}rmi(t,e,s,n=t.length){const r=[];let o,i;r[s-1]=NaN;let a=s;for(o=0>t[a]-t[a-s]?0:t[a]-t[a-s],i=0>t[a-s]-t[a]?0:t[a-s]-t[a],++a,r.push(o/(o+i)*100);a<n;++a)o=2*(0>t[a]-t[a-s]?0:t[a]-t[a-s]-o)/(1+e)+o,i=2*(0>t[a-s]-t[a]?0:t[a-s]-t[a]-i)/(1+e)+i,r.push(o/(o+i)*100);return r}rmta(t,e,s,n=t.length){const r=[];r[e-2]=NaN;const o=1-s;let i=(1-o)*t[0]+t[0],a=(1-o)*t[0]+o*(t[0]+i);for(let s=1;s<e-1;++s){const e=(1-o)*i+t[s];a=(1-o)*a+o*(t[s]+e-i),i=e}for(let s=e-1;s<n;++s){const e=(1-o)*i+t[s];a=(1-o)*a+o*(t[s]+e-i),i=e,r.push(a)}return r}rvi(t,e,s,n=t.length){const r=[];r[s-2]=NaN;let o=0,i=0;const a=s*(s+1)/2,l=s*(s+1)*(2*s+1)/6;let h=0,u=0,c=0;for(;c<s;++c)i+=t[c]*(c+1),o+=t[c];--c;const p=(i/s-a/s*o/s)/(l/s-a/s*(a/s)),d=o/s-p*a/s,f=t[c]-(d+p*s);for(f>0?h=f*f/s:u=f*f/s,h+u==0?r.push(50):r.push(h/(h+u)*100),++c;c<n;++c){i+=-o+t[c]*s,o+=-t[c-s]+t[c];const n=(i/s-a/s*o/s)/(l/s-a/s*(a/s)),p=o/s-n*a/s,d=t[c]-(p+n*s);d>0?h=2*(d*d/s-h)/(e+1)+h:u=2*(d*d/s-u)/(e+1)+u,h+u==0?r.push(50):r.push(h/(h+u)*100)}return r}smi(t,e,s,n,r,o,i=t.length){const a=[];a[n-2]=NaN;let l=1-n,h=NaN,u=NaN,c=NaN,p=NaN,d=0,f=0,g=0,N=0,m=0,x=0;for(;x<i&&l==1-n;++x,++l)f=t[x],g=l,d=e[x],N=l;for(;x<i&&l<0;++x,++l)f<=t[x]&&(f=t[x],g=l),d>=e[x]&&(d=e[x],N=l);for(;x<i&&0==l;++x,++l)f<=t[x]&&(f=t[x],g=l),d>=e[x]&&(d=e[x],N=l),h=u=s[x]-.5*(f+d),c=p=f-d,a.push(100*u/(.5*p));for(;x<i;++x,++l){if(g==l-n){f=t[x],g=l;for(let e=1;e<n;++e)m=t[x-e],m>f&&(f=m,g=l-e)}else f<=t[x]&&(f=t[x],g=l);if(N==l-n){d=e[x],N=l;for(let t=1;t<n;++t)m=e[x-t],m<d&&(d=m,N=l-t)}else d>=e[x]&&(d=e[x],N=l);h=(s[x]-.5*(f+d)-h)*(2/(1+r))+h,u=2/(1+o)*(h-u)+u,c=2/(1+r)*(f-d-c)+c,p=2/(1+o)*(c-p)+p,a.push(100*u/(.5*p))}return a}tsi(t,e,s,n=t.length){const r=[];r[0]=NaN;let o=-1,i=0,a=0,l=0,h=0,u=0,c=0;for(;c<n&&-1==o;++c,++o)i=t[c];for(;c<n&&0==o;++c,++o)l=a=t[c]-i,u=h=Math.abs(t[c]-i),r.push(100*(u?l/u:0)),i=t[c];for(;c<n;++c,++o)a=2*(t[c]-i-a)/(1+e)+a,h=2*(Math.abs(t[c]-i)-h)/(1+e)+h,l=2*(a-l)/(1+s)+l,u=2*(h-u)/(1+s)+u,r.push(100*(u?l/u:0)),i=t[c];return r}vwap(t,e,s,n,r,o=t.length){const i=[];i[r-2]=NaN;let a=1-r,l=0,h=0,u=0;for(;u<o&&a<1;++u,++a)l+=(t[u]+e[u]+s[u])/3*n[u],h+=n[u];for(u>0&&1==a&&i.push(l/h);u<o;++u,++a)l+=(t[u]+e[u]+s[u])/3*n[u]-(t[u-r]+e[u-r]+s[u-r])/3*n[u-r],h+=n[u]-n[u-r],i.push(l/h);return i}}},717:(t,e,s)=>{s.d(e,{f:()=>n});class n{constructor(t){this.size=t,this.pushes=0,this.index=0,this.sum=0,this.vals=[]}static new(t){return new n(t)}push(t){this.pushes>=this.size&&(this.sum-=this.vals[this.index]),this.sum+=t,this.vals[this.index]=t,this.pushes+=1,this.index=(this.index+1)%this.size}qpush(t){this.vals[this.index]=t,this.index=(this.index+1)%this.size}get(t){return this.vals[(this.index+this.size-1+t)%this.size]}}},67:(t,e,s)=>{s.d(e,{bp:()=>n.b}),s(949),s(56);var n=s(871)},319:(t,e,s)=>{function n(t,e,s,n=!0){return t.filter((t=>n?t[e].includes(s):!t[e].includes(s)))}function r(t,e,s){return t.some((t=>t[e]===s))}s.d(e,{A:()=>i});class o{constructor(){this.data=null,this.previouslow=0,this.previoushigh=0,this.previouspoint="B",this.reqdnmove=0,this.requpmove=0,this.lasthighpoint={},this.lastlowpoint={},this.currentminind=0,this.currentmaxind=0,this.currentcdmin=0,this.currentcdmax=0,this.zigdata={gpoint:[]},this.upsidecount=1,this.downsidecount=1,this.permitmove=1e-4}static getInstance(){return o.instance||(o.instance=new o),o.instance}attachOHLCV(t){this.data=t}zdata(){let t=this.data;const e=[];if(t&&0===t.length)return e;var s=JSON.parse(JSON.stringify(t));const n=[];for(let t=0;t<s.length;t++){var r=0+t;s[t].orgindex=r,n.push(s[t])}for(let t=0;t<n.length;t++){var o=n[t];0==t&&(this.zigdata.gpoint=[{index:t,ind:"B"}],this.previouslow=o.low,this.previoushigh=o.high,this.previouspoint="B",this.reqdnmove=n[0].low-(n[0].high-n[0].low),this.requpmove=n[0].high+(n[0].high-n[0].low),this.lasthighpoint=n[0],this.lastlowpoint=n[0],this.currentminind=n[0].low,this.currentmaxind=n[0].high,this.currentcdmin=n[0].low,this.currentcdmax=n[0].high),0!==t&&(o.high>this.currentcdmax&&o.low>this.currentcdmin?(this.currentcdmin=o.low,this.currentcdmax=o.high,this.up_move(t,o,this.zigdata,n,this.requpmove,this.lastlowpoint)):o.high<this.currentcdmax&&o.low<this.currentcdmin?(this.currentcdmin=o.low,this.currentcdmax=o.high,this.down_move(t,o,this.zigdata,n,this.reqdnmove,this.lasthighpoint)):o.high>this.currentcdmax&&o.low<this.currentcdmin&&("HS"==this.previouspoint&&(this.currentcdmin=o.low,this.currentcdmax=o.high,this.up_move(t,o,this.zigdata,n,this.requpmove,this.lastlowpoint)),"LS"==this.previouspoint&&(this.currentcdmin=o.low,this.currentcdmax=o.high,this.down_move(t,o,this.zigdata,n,this.reqdnmove,this.lasthighpoint))))}if(this.zigdata.gpoint.map(((t,s)=>{var r=n[t.index];r.zigind=t.ind,r.orgindex=t.index,e.push(r)})),s.slice(-1)[0].timestamp>e.slice(-1)[0].timestamp){var i={timestamp:s.slice(-1)[0].timestamp,time:s.slice(-1)[0].time,zigind:"E",orgindex:s.length,high:"LS"==e.slice(-1)[0].zigind?e.slice(-1)[0].low:e.slice(-1)[0].high,low:e.slice(-1)[0].low,open:e.slice(-1)[0].open,close:e.slice(-1)[0].close,volume:e.slice(-1)[0].volume};e.push(i)}return e}up_move(t,e,s,n,r,o){var i,a;if(s.gpoint.length>1)var l=(null===(i=s.gpoint[s.gpoint.length-1])||void 0===i?void 0:i.index)||0;else l=0;var h=n.slice(l,t+1);let u=Math.max(...h.map((t=>t.high)));this.upsidecount>=2||"HS"==this.previouspoint?e.high>r&&e.high>=u&&("HS"==(null===(a=s.gpoint.at(-1))||void 0===a?void 0:a.ind)&&s.gpoint.pop(),"HS"==this.previouspoint&&(this.downsidecount=1),this.upsidecount=1,this.previouspoint="HS",s.gpoint=[...s.gpoint,{index:t,ind:"HS"}],this.get_newmove(o,t,n,1),this.lasthighpoint=n[t],this.currentmaxind=e.high):e.high>=u&&(this.upsidecount=this.upsidecount+1,this.currentmaxind=e.high)}down_move(t,e,s,n,r,o){var i,a;if(s.gpoint.length>1)var l=(null===(i=s.gpoint[s.gpoint.length-1])||void 0===i?void 0:i.index)||0;else l=0;var h=n.slice(l,t+1);let u=Math.min(...h.map((t=>t.low)));this.downsidecount>=2||"LS"==this.previouspoint?e.low<r&&e.low<n[l].low&&("LS"==(null===(a=s.gpoint[s.gpoint.length-1])||void 0===a?void 0:a.ind)&&s.gpoint.pop(),"LS"==this.previouspoint&&(this.upsidecount=1),this.downsidecount=1,this.previouspoint="LS",s.gpoint=[...s.gpoint,{index:t,ind:"LS"}],this.get_newmove(o,t,n,-1),this.lastlowpoint=n[t],this.currentminind=e.low):e.low<=u&&(this.downsidecount=this.downsidecount+1,this.currentminind=e.low)}get_newmove(t,e,s,n){var r=-1==n?t.high:t.low,o=-1==n?s[e].low:s[e].high,i=Math.abs(r-o);-1==n&&(this.requpmove=o+i*this.permitmove),1==n&&(this.reqdnmove=o-i*this.permitmove)}calculateEffortMetric(t,e,s,n,r){let o=0,i=0;const a=e+s/100*e,l=e-s/100*e;for(const s of t){const t=s.timestamp;if(s.high<=a&&s.high>=l)o++,i+=(s.high>=e&&s.close>e||s.high>=e&&s.close<=e?1:(s.high-l)/(e-l))*(1-(r-t)/(r-n));else if(s.high>a){i=0;break}}return{totalWeight:i,numAttempts:o}}getbreakouttrength({breakoutdetails:t,stockdata:e}){const s=t.latestbreakobj.broutfor,n=t.latestbreakobj.broutat,r=t.latestbreakobj.highatref,o={},i=e.filter((t=>{const e=t.timestamp;return e>s&&e<n}));return[.2,.5,1,3,5,8,10].forEach((t=>{const e=this.calculateEffortMetric(i,r,t,s,n);o[t]=e})),o}getbreakout({stockdata:t,zigdata:e,refpoint:s,lowpointfilter:n,getlatestbreakout:r}){var o=n.find((t=>t>s)),i=t[s].high;let a=NaN;var l={broutfor:NaN,broutat:NaN,rejectat:NaN,brekoutcandleago:NaN,breakoutperiod:NaN,breakoutpercentage:NaN,highatref:NaN,highatrejec:NaN,highatbr:NaN,closeatbr:NaN};for(let e=o;e<t.length;e++){const n=t[e].high,o=t[e].close;if(n>i&&o<i&&(i=n,a=e),o>i){let i=isNaN(a)?t[s].high:t[a].high;return l={broutfor:s,broutat:e,rejectat:isNaN(a)?s:a,brekoutcandleago:r.laststockindex+1-e,highatref:t[s].high,highatrejec:i,highatbr:n,closeatbr:o,breakoutperiod:e-s,breakoutpercentage:(o-i)/i*100},e>r.latestbrindex?(r.latestbrindex=e,r.breakoutperiod=e-s,r.latestbreakobj={broutfor:t[s].timestamp,broutat:t[e].timestamp,rejectat:isNaN(a)?t[s].timestamp:t[a].timestamp,brekoutcandleago:r.laststockindex+1-e,highatref:t[s].high,highatrejec:i,highatbr:n,closeatbr:o,breakoutperiod:e-s,breakoutpercentage:(o-i)/i*100}):e===r.latestbrindex&&e-s>r.breakoutperiod&&(r.breakoutperiod=e-s,r.latestbreakobj={broutfor:t[s].timestamp,broutat:t[e].timestamp,rejectat:isNaN(a)?t[s].timestamp:t[a].timestamp,brekoutcandleago:r.laststockindex+1-e,highatref:t[s].high,highatrejec:i,highatbr:n,closeatbr:o,breakoutperiod:e-s,breakoutpercentage:(o-i)/i*100}),l}}return l}fullbrtable({stockdata:t,zigdata:e}){const s=n(e,"zigind","HS",!0).map((t=>t.orgindex)),o=n(e,"zigind","LS",!0).map((t=>t.orgindex)),i=[],a={latestbrindex:-1,breakoutperiod:0,latestbreakobj:{broutfor:NaN,broutat:NaN,rejectat:NaN,brekoutcandleago:NaN,highatref:NaN,highatrejec:NaN,highatbr:NaN,closeatbr:NaN,breakoutperiod:NaN,breakoutpercentage:NaN},laststockindex:t.length-1};for(let n=0;n<s.length;n++){const l=s[n];if(!r(i,"rejectat",l)){const s=this.getbreakout({stockdata:t,zigdata:e,refpoint:l,lowpointfilter:o,getlatestbreakout:a});s&&i.push(s)}}return{FullBRDATA:i,latestbreakout:a,breakStrength:{}}}nearbrtable({stockdata:t,zigdata:e}){let s;"HS"==e[e.length-1].zigind&&e.splice(-1);var r=t.slice(-1),o=n(e,"zigind","HS",!0).map((t=>t.orgindex)),i=r[0].close,a=r[0].timestamp,l=o.filter((e=>t[e].high>i)).slice(-1);if(l.length>0){var h=l[0],u=t[h].high,c=(u-i)/u*100,p=Math.round(1e3*c)/1e3,d=t.length-1-h;s={pricetobebreak:u,lastclose:i,laginprct:p,candeldistance:d,tobebreakcandelid:h,timestamp:a}}else s={pricetobebreak:-1,lastclose:-1,laginprct:-1,candeldistance:-1,tobebreakcandelid:-1,timestamp:a};return s}nearbreakdown({stockdata:t,zigdata:e}){var s=t.slice(-1),r=s[0].close,o=s[0].timestamp;let i;"LS"==e[e.length-1].zigind&&e.splice(-1);var a=n(e,"zigind","LS",!0).map((t=>t.orgindex)).filter((e=>t[e].low<r)).slice(-1);if(a.length>0){var l=a[0],h=t[l].low,u=(r-h)/h*100,c=Math.round(1e3*u)/1e3,p=t.length-1-l;i={pricetobebreakdown:h,lastclose:r,laginprct:c,candeldistance:p,tobebreakcandelid:l,timestamp:o}}else i={pricetobebreakdown:-1,lastclose:-1,laginprct:-1,candeldistance:-1,tobebreakcandelid:-1,timestamp:o};return i}zseries(){let t=this.data,e=this.zdata().map((({time:t,zigind:e,low:s,high:n,orgindex:r})=>({time:t,orgindex:r,value:"LS"==e?s:n,zigind:e,zigType:""})));for(let t=2;t<e.length-1;t++){const s=e[t].value,n=Math.max(e[t-1].value,e[t-2].value),r=Math.min(e[t-1].value,e[t-2].value);s>n?e[t].zigType="HH":s<r?e[t].zigType="LL":s>e[t-1].value?e[t].zigType="LH":e[t].zigType="HL"}const s=e.length-1;var n=0;if(s>=6){const t=[e[s-5].zigType,e[s-4].zigType,e[s-3].zigType,e[s-2].zigType,e[s-1].zigType].join("-");if("HL-LH-HL-LH-HL"===t){const t=e[s-2].value,r=e[s-4].value;Math.abs(t-r)/t*100<1&&(n=1)}else if("HL-HH-HL-HH-HL"===t){const t=e[s-2].value,r=e[s-4].value;Math.abs(t-r)/t*100<1&&(n=1)}else if("LH-HL-HH-HL-HH"===t){const t=e[s-1].value,r=e[s-3].value;Math.abs(t-r)/t*100<1&&(n=1)}}const r=this.fullbrtable({stockdata:t,zigdata:[...e]}),o=this.nearbrtable({stockdata:t,zigdata:[...e]}),i=this.nearbreakdown({stockdata:t,zigdata:[...e]});return{sublist:e,brlist:r.FullBRDATA,lastbreakout:r.latestbreakout,tobebreakdata:o,tobebreakdowndata:i,breakStrenth:r.breakStrength,Tr_patternMark:n}}}o.instance=null;const i=o}},e={};function s(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,s),o.exports}s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n={};(()=>{s.d(n,{A:()=>i});var t=s(67),e=s(319);let r=new t.bp;class o{constructor(){this.ohlcv=null,this.zigProcessor=e.A.getInstance()}static getInstance(){return o.instance||(o.instance=new o),o.instance}attachOHLCV(t){this.ohlcv=t,this.zigProcessor.attachOHLCV(t.map((t=>Object.assign(Object.assign({},t),{time:t.timestamp}))))}calculateSMA(t,e){if(!this.ohlcv)throw new Error("OHLCV data has not been attached.");if("string"==typeof t){const s=this.ohlcv.map((e=>e[t]));return r.sma(s,e)}if(Array.isArray(t))return r.sma(t,e);throw new Error("Invalid data format. Expecting string or number[].")}calculateEMA(t,e){if(!this.ohlcv)throw new Error("OHLCV data has not been attached.");if("string"==typeof t){const s=this.ohlcv.map((e=>e[t]));return r.ema(s,e)}if(Array.isArray(t))return r.ema(t,e);throw new Error("Invalid data format. Expecting string or number[].")}calculateRSI(t,e){if(!this.ohlcv)throw new Error("OHLCV data has not been attached.");if("string"==typeof t){const s=this.ohlcv.map((e=>e[t]));return r.rsi(s,e)}if(Array.isArray(t))return r.rsi(t,e);throw new Error("Invalid data format. Expecting string or number[].")}calculateADX(t){if(!this.ohlcv)throw new Error("OHLCV data has not been attached.");const e=this.ohlcv.map((t=>t.high)),s=this.ohlcv.map((t=>t.low)),n=r.adx(e,s,t),o=r.dm(e,s,t);return{adx:n,dmp:o[0],dmn:o[1]}}calculateZizZag(){if(!this.ohlcv)throw new Error("OHLCV data has not been attached.");const t=this.zigProcessor.zseries();return{sublist:t.sublist.map((({orgindex:t,value:e})=>({orgindex:t,value:e}))),tobebreakdata:t.tobebreakdata?{tobebreakcandelid:t.tobebreakdata.tobebreakcandelid,pricetobebreak:t.tobebreakdata.pricetobebreak}:void 0,tobebreakdowndata:t.tobebreakdowndata?{tobebreakcandelid:t.tobebreakdowndata.tobebreakcandelid,pricetobebreakdown:t.tobebreakdowndata.pricetobebreakdown}:void 0,brlist:t.brlist.filter((({broutfor:t})=>!isNaN(t))).map((({rejectat:t,broutfor:e,broutat:s,highatref:n,highatrejec:r,breakoutperiod:o})=>({rejectat:t,broutfor:e,broutat:s,highatref:n,highatrejec:r,breakoutperiod:o})))}}}o.instance=null;const i=o})();var r=n.A;export{r as default};