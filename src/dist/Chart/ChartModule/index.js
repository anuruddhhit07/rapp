import*as t from"d3";var e={988:(t,e,a)=>{a.d(e,{$2:()=>g,Pr:()=>i,SA:()=>r,TC:()=>p,Wi:()=>d,v0:()=>c});var s=a(507),o=a(126),n=a(813),l=a(628);function r(){(0,o.wy)("bot",{ypoint:o.dO.svgHeight-o.dO.margin.bottom,xscaleRange:[o.dO.margin.innerLeft+o.dO.margin.left,o.dO.svgWidth-o.dO.margin.right]}),(0,o.wy)("top",{ypoint:o.dO.margin.top,xscaleRange:[o.dO.margin.innerLeft+o.dO.margin.left,o.dO.svgWidth-o.dO.margin.right]}),(0,o.wy)("Funda_xscale",{ypoint:o.dO.svgHeight-o.dO.margin.bottom,xscaleRange:[o.dO.margin.innerLeft+o.dO.margin.left+.15*o.dO.width,o.dO.svgWidth-o.dO.margin.right-.15*+o.dO.width]})}function i(){(0,o.rk)("TR",{xpoint:o.dO.svgWidth-o.dO.margin.right}),(0,o.rk)("TL",{xpoint:o.dO.margin.innerLeft+o.dO.margin.left}),(0,o.rk)("BR",{xpoint:o.dO.svgWidth-o.dO.margin.right}),(0,o.rk)("LR",{xpoint:o.dO.svgWidth-o.dO.margin.right}),(0,o.rk)("Funda_yscale",{xpoint:o.dO.svgWidth-o.dO.margin.right})}function c(){(0,o.j1)("OHLCPlot",{getTooltipHTML:l.rF}),(0,o.j1)("VolumePlot",{getTooltipHTML:l.Rg})}function h(t,e,a){if(null!=t.xscale){const l=t.xscale().XSCALE;let r=t.zoomstatus?e.rescaleX(l):l;a.selectAll(`.x-axis-${t.xscaleTag}`).remove(),a.append("g").attr("class",`axis x-axis x-axis-${t.xscaleTag}`).attr("transform",`translate(0,${t.ypoint})`).call(function(t,e={scaleSide:"Bottom",ticlavelmappedwith:"xindex"}){const a=e.scaleSide||"Bottom",l=e.ticlavelmappedwith||"xindex",r="Top"===a?s.axisTop(t):s.axisBottom(t),[i,c]=s.extent(t.range()),h=Math.ceil((c-i)/100);return r.ticks(h).tickFormat(((t,e)=>t instanceof Date?t.toLocaleDateString():"timestamp"==l?function(t,e,a){return(0,n.l)(t,"temp:1D",o.Gi[a])}(t,0,l):"fundaMappedX1"==l&&o.Gi.fundaMappedX1?o.Gi.fundaMappedX1[+t]:t.toString()))}(r,{scaleSide:t.scaleSide,ticlavelmappedwith:t.ticlavelmappedwith}))}}function u(t,e){if(null!=t.yscale){t.yscale().YSCALE;const a=t.yscale().TranSFormedYscale;e.selectAll(`.y-axis-${t.yscaleTag}`).remove(),e.append("g").attr("class",`axis y-axis y-axis-${t.yscaleTag}`).attr("transform",`translate(${t.xpoint},0)`).call(function(t,e={scaleSide:"Left",yscaleTag:"MAIN"}){const a=e.scaleSide||"Left",o=e.yscaleTag||"MAIN",l="Left"===a?s.axisLeft(t):s.axisRight(t),[r,i]=s.extent(t.range()),c=Math.ceil((i-r)/40);return"BR"==o?l.ticks(c).tickFormat((t=>{return t instanceof Date?t.toLocaleDateString():(e=t,(0,n.Q)(e));var e})):l.ticks(c)}(a,{scaleSide:t.scaleSide,yscaleTag:t.yscaleTag}))}}function p(t,e){t.selectAll(".axis").remove(),Array.from(o.Aw.xscaleTag).map((a=>{h(o.jx[a],e.property("__zoom"),t)})),Array.from(o.Aw.yscaleTag).map((e=>{u(o.Yh[e],t)}))}function d(t,e){t.selectAll(".x-axis").remove(),Array.from(o.Aw.xscaleTag).map((a=>{const s=o.jx[a];if(null!=s.xscale){const n=s.xscale().XSCALE,l=e.property("__zoom");let r=l.rescaleX(n);o.YC[a].map((t=>{const e=r.domain(),a=[0,o.Gi[s.xscaleDataTag].length];"Funda_yscale"!=t&&(0,o.rk)(t,{xscaleVisibleRange:[Math.max(e[0],a[0]),Math.min(e[1],a[1])]})})),h(s,l,t)}}))}function g(t,e,a){const n=Array.from(o.Aw.yscaleTag);if(t.selectAll(".y-axis").each((function(){const e=s.select(this).attr("class").split("y-axis-")[1];n.includes(e)||t.select(`.y-axis-${e}`).remove()})),null==a)n.map((e=>{u(o.Yh[e],t)}));else{let s=!1;n.map((n=>{const l=o.Yh[n];if(l.yaxisrange&&(s=a>l.yaxisrange[1]&&a<l.yaxisrange[0]),l.zoomstatus&&s){const a=e.select(`.yzoom-${l.yaxisTag}`).property("__zoom");(0,o.rk)(l.yscaleTag,{yzoomtransform:a}),u(l,t)}}))}}},813:(t,e,a)=>{a.d(e,{Q:()=>h,l:()=>c});var s=a(507);s.timeFormat(".%L"),s.timeFormat(":%S");const o=s.timeFormat("%I:%M"),n=s.timeFormat("%I %p"),l=s.timeFormat("%a %d"),r=s.timeFormat("%b %d"),i=s.timeFormat("%B %Y"),c=(s.timeFormat("%Y"),(t,e="temp:1D",a)=>{const c=s.timeParse("%s"),h=e.split(":")[1],u=+t;if(isNaN(u)||u<0||u>=a.length)return null;const p=c(a[u]);let d;switch(h){case"1m":case"3m":case"5m":case"15m":case"30m":case"45m":d=o;break;case"1H":case"2H":case"4H":d=n;break;case"1D":d=l;break;case"1W":d=r;break;case"1M":d=i;break;default:d=()=>""}return d(p)}),h=t=>{const e=+t;return e>=1e6?(e/1e6).toFixed(0)+"M":e>=1e3?(e/1e3).toFixed(0)+"k":e.toString()}},929:(t,e,a)=>{a.d(e,{B:()=>o});var s=a(126);function o(){(0,s.Kw)(),(0,s.v$)(),(0,s.TW)();const t=(0,s.cu)(s.mb);(0,s.Vn)(t);const e=(0,s.Os)();(0,s.Y2)("",{},!0);const a=(0,s.cc)(Array.from(t.yaxisTag));Object.entries(a).forEach((([t,a])=>{(0,s.j)("yaxisTag",t,a);const o=e[t];(0,s.Y2)(t,{range:a.yaxisrange,plotname:o.plotName,yscaleTag:o.yscaleTag})})),(0,s.bx)(),(0,s.ho)()}},526:(t,e,a)=>{function s(t,e,a=[],o){const n=t=>a.concat(String(t)).join(".");return new Proxy(t,{get(t,n,l){if("__getTarget"===n)return()=>t;const r=Reflect.get(t,n,l);return"object"==typeof r&&null!==r?s(r,e,a.concat(String(n)),o):r},set(t,a,s,l){const r=Reflect.get(t,a,l),i=Reflect.set(t,a,s,l);return s!==r&&e("set",n(a),t,s,r,o),i},deleteProperty(t,a){const s=Reflect.deleteProperty(t,a);return e("delete",n(a),t),s}})}a.d(e,{v:()=>s})},394:(t,e,a)=>{a.d(e,{A:()=>l});var s=a(126);const o={targetID:"DivID",stockid:"StockName:1D",liveupdatefunction:()=>{},chartsettings:{mdbutton:{status:!1},fiibutton:{status:!1},opbutton:{status:!1},epsbutton:{status:!1},brlinebutton:{status:!1},crsibutton:{status:!1},adxbutton:{status:!1},atrbutton:{status:!1},emabutton:{status:!1},rsibutton:{status:!1},trendbutton:{status:!1},zigzagbutton:{status:!1},closebutton:{status:!1},cdbutton:{status:!1},volbutton:{status:!1},sigbutton:{status:!1}}};class n{constructor(t,e,a){(0,s.sx)({svgWidth:t,svgHeight:e,targetID:a.targetID,stockid:a.stockid})}static getInstance(t,e,a){if(!n.instance){for(const t in a)t in o&&(o[t]=a[t]);n.instance=new n(t,e,o)}return n.instance}}n.instance=null;const l=n},126:(t,e,a)=>{a.d(e,{Aw:()=>p,FA:()=>C,Gi:()=>n,Iy:()=>$,Kj:()=>f,Kw:()=>z,Mr:()=>d,Os:()=>b,TW:()=>S,Vn:()=>A,Y2:()=>x,YC:()=>u,Yh:()=>i,_w:()=>h,bx:()=>L,cc:()=>j,cu:()=>M,dO:()=>l,ho:()=>R,j:()=>O,j1:()=>w,jx:()=>r,mb:()=>c,rG:()=>g,rk:()=>N,sx:()=>m,v$:()=>k,wy:()=>T});var s=a(507),o=a(625);let n=o.O1,l=o.xZ,r={},i={},c={},h={},u={},p={plotName:new Set,xscaleTag:new Set,yscaleTag:new Set,yaxisTag:new Set},d={};function g(t){n=t}function m(t){Object.assign(l,t)}function x(t,e,a){1==a?d={}:d.hasOwnProperty(t)?d[t]=Object.assign(Object.assign({},d[t]),e):d[t]=Object.assign({range:[0,0],plotname:[],yscaleTag:[]},e)}function f(t){for(const e in d)if(d.hasOwnProperty(e)){const a=d[e].range;if(t>=a[1]&&t<=a[0])return e}}function b(){const t={};for(const e in c)if(c.hasOwnProperty(e)){const a=c[e];if(a.plotStatus){const e=a.yscaleTag;if(e in i){const s=i[e].yaxisTag;t[s]||(t[s]={plotName:[],yscaleTag:[]}),t[s].plotName.push(a.plotName),t[s].yscaleTag.includes(e)||t[s].yscaleTag.push(e)}}}return t}function y(){let t=[];if(this.xsaleType="Linear"){const e=n[this.xscaleDataTag].length;t=s.extent([0,e])}else t=s.extent(n[this.xscaleDataTag]);const e="Linear"==this.xsaleType?s.scaleLinear().range(this.xscaleRange).domain(t):"TimeScale"===this.xsaleType?s.scaleTime().range(this.xscaleRange).domain(t):s.scaleBand().range(this.xscaleRange).domain(t.map((t=>t.toString())));return{domain:t,XSCALE:e}}function v(){let t=[],e=null,a=null,o=[];if("ohlc"==this.yscaleDataTag)o=0==this.xscaleVisibleRange[1]?[0,n.low.length]:this.xscaleVisibleRange,t=[s.min(n.low.slice(o[0],o[1])),s.max(n.high.slice(o[0],o[1]))];else if("fundaMultibarY"==this.yscaleDataTag){const e=Object.values(n[this.yscaleDataTag]),a=[].concat(...e);o=0==this.xscaleVisibleRange[1]?[0,e[0].length]:this.xscaleVisibleRange,t=[s.min(a.slice(o[0],o[1])),s.max(a.slice(o[0],o[1]))]}else if("rsi"==this.yscaleDataTag){const e=Object.values(n[this.yscaleDataTag]),a=[].concat(...e);o=0==this.xscaleVisibleRange[1]?[0,e[0].length]:this.xscaleVisibleRange,t=[s.min(a.slice(o[0],o[1])),s.max(a.slice(o[0],o[1]))],t=[0,100]}else o=0==this.xscaleVisibleRange[1]?[0,n[this.yscaleDataTag].length]:this.xscaleVisibleRange,t=s.extent(n[this.yscaleDataTag].slice(o[0],o[1]));const l=Array.from(t),r=.1*(l[1]-l[0]),i=[l[0]-r,l[1]+r];if(null!=this.yaxisrange&&(e=s.scaleLinear().range(this.yaxisrange).domain(i),a=this.yzoomtransform.rescaleY(e)),"BR"==this.yscaleTag&&null!=a){let t=[0,a.domain()[1]];a.domain(t)}return{domain:t,YSCALE:e,TranSFormedYscale:a}}function w(t,e){c.hasOwnProperty(t)?c[t]=Object.assign(Object.assign({},c[t]),e):c[t]=Object.assign({plotStatus:!0,plotName:"PlotName",xdata:()=>[],ydata:()=>[],xscaleTag:"Bot1",yscaleTag:"TL",plotType:"line",plotcolor:"red",buttontag:"no-button",buttonSvgIcon:"defaultsvg",tooltip:!1,clipdata:!0},e)}function T(t,e){r.hasOwnProperty(t)?r[t]=Object.assign(Object.assign({},r[t]),e):r[t]=Object.assign({xsaleType:"Linear",xscaleTag:"bot",scaleSide:"Bottom",ticlavelmappedwith:"xindex",ypoint:100,xscaleRange:[0,100],xscaleDataTag:"xindex",zoomstatus:!0,xscale:y},e)}function N(t,e){i.hasOwnProperty(t)?i[t]=Object.assign(Object.assign({},i[t]),e):i[t]=Object.assign({yscaleTag:"bot",yaxisTag:"1main",scaleSide:"Left",xpoint:100,yaxisrange:null,yscaleDataTag:"close",xscaleVisibleRange:[0,10],zoomstatus:!0,autozoom:!0,ydomaindata:[0,0],yscale:v,yzoomtransform:s.zoomIdentity},e)}const z=(t=o.HO)=>{t.map((t=>{const{xscaleTag:e,ypoint:a,xscaleRange:s,scaleSide:o,xsaleType:n,ticlavelmappedwith:l,xscaleDataTag:r,zoomstatus:i}=t;T(e,{xscaleTag:e,xsaleType:n,scaleSide:o,ticlavelmappedwith:l,ypoint:a,xscaleRange:s,xscaleDataTag:r,zoomstatus:i||!1,xscale:y})}))},k=(t=o.Mf)=>{t.map((t=>{const{yscaleTag:e,yaxisTag:a,xpoint:o,yaxisrange:n,yscaleDataTag:l,zoomstatus:r,scaleSide:i,xscaleVisibleRange:c,autozoom:h}=t;N(e,{yscaleTag:e,yaxisTag:a,scaleSide:i,xpoint:o,yscaleDataTag:l,yaxisrange:n||null,xscaleVisibleRange:c,zoomstatus:r||!1,autozoom:h||!1,ydomaindata:[0,0],yscale:v,yzoomtransform:s.zoomIdentity})}))},S=(t=o.WV)=>{t.map((t=>{const{plotStatus:e,plotName:a,xdataTag:s,ydataTag:o,xscaleTag:l,yscaleTag:r,buttonSvgIcon:i,plotType:c,plotcolor:h,buttontag:u,tooltip:p,clipdata:d}=t;w(a,{plotStatus:e,plotName:a,xdata:()=>n[s],ydata:"ohlc"==o?()=>[]:()=>n[o],xscaleTag:l,yscaleTag:r,plotType:c,plotcolor:h||"green",buttontag:u||"no-button",buttonSvgIcon:i||"defaultsvg",tooltip:p||!1,clipdata:null==d||d})}))};function M(t){const e=new Set,a=new Set,s=new Set,o=new Set;return Object.values(t).filter((t=>t.plotStatus)).forEach((t=>{e.add(t.plotName),a.add(t.xscaleTag),s.add(t.yscaleTag),o.add(i[t.yscaleTag].yaxisTag)})),{plotName:e,xscaleTag:a,yscaleTag:s,yaxisTag:o}}function A(t){for(const e in t)p[e].clear();for(const e in t){const a=e;t[e].forEach((t=>p[a].add(t)))}}function L(){Object.entries(c).forEach((([t,e])=>{"no-button"!==e.buttontag&&(h[t]={plotStatus:e.plotStatus,plotName:e.plotName,buttonid:`buttonid_${e.buttontag}`,buttonSvgIcon:e.buttonSvgIcon})}))}function C(t){const e=[];return Object.entries(h).forEach((([a,s])=>{s.buttonid===t&&e.push(a)})),e}function O(t,e,a){Object.entries(i).filter((([a,s])=>s[t]===e)).forEach((([t,e])=>{i[t]=Object.assign(Object.assign({},e),a)}))}function j(t){const e=l.height,a=1/t.length;let s;2==t.length&&(s=[.7,.3]),3==t.length&&(s=[.6,.2,.2]);let o=0,n={};return t.forEach(((t,r)=>{const i=s&&s.length>0?s[r]:a,c=l.margin.top+l.margin.innerTop+e*o,h=c+e*i;n[t]={yaxisrange:[h,c]},o+=i})),n}function R(){u={},Object.values(c).forEach((t=>{if(t.plotStatus){const e=t.xscaleTag;u[e]||(u[e]=[]),u[e].includes(t.yscaleTag)||u[e].push(t.yscaleTag)}}))}function $(){const t={};return Object.keys(c).forEach((e=>{const a=c[e].plotType;t[a]||(t[a]=[]),t[a].push(e)})),t}},205:(t,e,a)=>{a.d(e,{A:()=>n});var s=a(526),o=a(126);const n=(0,s.v)(o.mb,((t,e,a,s,n,l)=>{if("plotStatus"==e.split(".")[1]){console.log("Enter In PROXY SET FUNTION");const t=(0,o.cu)(l);(0,o.Vn)(t);const e=(0,o.cc)(Array.from(t.yaxisTag)),a=(0,o.Os)();(0,o.Y2)("",{},!0),Object.entries(e).forEach((([t,e])=>{(0,o.j)("yaxisTag",t,e);const s=a[t];(0,o.Y2)(t,{range:e.yaxisrange,plotname:s.plotName,yscaleTag:s.yscaleTag})})),(0,o.ho)()}}),[],o.mb)},899:(t,e,a)=>{a.d(e,{P:()=>o});const s=a(540).A.getInstance();function o(t,e=0){console.log(t);const a=t.histdata||[],o=t.techdata||{},n=t.fundadata||{},l=o.zigzagdatasub||{},r=(o.indicatordata,o.btresult||{}),i=n.profitLossData||{},c=n.quartersData||{},h=n.shareholdingData||{},u=(i["Operating Profit"],c["EPS in Rs"],Object.keys(h),["2018","2019","2020","2021","2022","2023"]),p=s.calculateADX(14);return{xindex:a.map(((t,e)=>e)),timestamp:a.map((t=>t.timestamp)),open:a.map((t=>t.open)),high:a.map((t=>t.high)),low:a.map((t=>t.low)),close:a.map((t=>t.close)),volume:a.map((t=>t.volume)),fundaMappedX1:u,fundaX1:u.map(((t,e)=>e)),fundaY2:[10,41,21,5,41,15],fundaMultibarY:{a1:[200,41,21,5,41,15],b1:[100,41,21,5,41,1]},ema:s.calculateEMA("close",25),rsi:s.calculateRSI("close",14),adx:p.adx,dmp:p.dmp,dmn:p.dmn,zigzagX:l.sublist.map((({orgindex:t})=>t)),zigzagY:l.sublist.map((({value:t})=>t)),brlinedata:l.brlist.map((({broutfor:t,rejectat:e,broutat:a,highatref:s,highatrejec:o,breakoutperiod:n})=>({x:[t,e,a],y:[s,o,o],label:n.toString()}))),backtestresultline:r.backtestLine?r.backtestLine:[]}}},449:(t,e,a)=>{a.d(e,{F:()=>o});var s=a(126);function o({BackGroup:t,index:e,y:a,valuestring:o,currentXscale:n}){const{margin:l,svgWidth:r,height:i}=s.dO;t.selectAll(".crosshair").remove(),t.append("line").attr("class","crosshair crosshair-x").attr("x1",l.left+l.innerLeft).attr("y1",a).attr("x2",r-l.right).attr("y2",a).attr("stroke","black").attr("stroke-width",1).attr("stroke-dasharray","5 5").attr("pointer-events","none").style("display","block"),t.append("line").attr("class","crosshair crosshair-y").attr("x1",n(e)).attr("y1",l.top+2*l.innerTop).attr("x2",n(e)).attr("y2",l.top+l.innerTop+i).attr("stroke","black").attr("stroke-width",1).attr("stroke-dasharray","5 5").attr("pointer-events","none").style("display","block"),t.append("rect").attr("class","crosshair crosshair-background").attr("x",r-l.right).attr("y",a-8).attr("width",100).attr("height",18).attr("fill","lightblue").attr("rx",5).attr("ry",5),t.append("text").attr("class","crosshair crosshair-text").attr("x",r-l.right).attr("y",a).attr("dy","0.35em").attr("text-anchor","start").style("fill","blue").style("font-size","10px").text(` ${o}`)}},287:(t,e,a)=>{a.d(e,{$M:()=>g,D1:()=>u,Gu:()=>x,Ip:()=>r,Iv:()=>l,L3:()=>m,U4:()=>h,gl:()=>d,lo:()=>n,xI:()=>c,xR:()=>p,y7:()=>i});var s=a(507),o=a(126);function n(t,e){const a=t.append("g");a.attr("class",e);let s=null;return a.drawBorder=function(t,o,n,l,r,i,c,h,u){return s=this.append("rect").attr("class",`${e}-border`).attr("x",t).attr("y",o).attr("width",n).attr("height",l).attr("opacity",h).attr("fill",c).style("stroke",r).style("stroke-width",i),u&&a.append("use").attr("xlink:href","#zoomout").attr("width",n).attr("height",l).attr("x",0).attr("y",0).attr("pointer-events","none"),this},a.importData=function(t){return this.selectAll("rect").data(t).enter().append("rect").attr("class",`${e}-data`).attr("x",((t,e)=>30*e)).attr("y",0).attr("width",20).attr("height",(t=>t.value)).style("fill","steelblue"),this},a.translate=function(t,e){return this.attr("transform",`translate(${t},${e})`),this},a.insertHTML=function(t){return this.selectAll(`.${e}-html`).remove(),this.append("g").attr("class",`${e}-html`).html(t),this},a.onEvent1=function(t,e){return this.on(t,(function(t,a){return e.call(this,t,a)})),this},a.addIconImageToRect=function(t){if(!s)throw new Error("No rectangle found. Please draw a border first.");return this.append("foreignObject").attr("width",s.attr("width")).attr("height",s.attr("height")).attr("x",s.attr("x")).attr("y",s.attr("y")).append("xhtml:div").html(t).style("width","100%").style("height","100%").style("display","flex").style("justify-content","center").style("align-items","center"),this},a}function l(t,e){const a=t.append("g");return a.attr("class",e),a.drawBorder=function(t,a,s,o,n,l,r,i){return this.append("rect").attr("class",`${e}-border`).attr("x",t).attr("y",a).attr("width",s).attr("height",o).attr("opacity",i).attr("fill",r).style("stroke",n).style("stroke-width",l),this},a.importData=function(t){return this.selectAll("rect").data(t).enter().append("rect").attr("class",`${e}-data`).attr("x",((t,e)=>30*e)).attr("y",0).attr("width",20).attr("height",(t=>t.value)).style("fill","steelblue"),this},a.translate=function(t,e){return this.attr("transform",`translate(${t},${e})`),this},a.insertHTML=function(t){return this.selectAll(`.${e}-html`).remove(),this.append("g").attr("class",`${e}-html`).html(t),this},a.onEvent1=function(t,e){return this.on(t,(function(t,a){return e.call(this,t,a)})),this},a}function r(t,e,a,s,o,n){let l=t.select("defs");l.empty()&&(l=t.append("defs"));const r=l.append("clipPath").attr("id",e).attr("class","clipplot");return r.append("rect").attr("x",a).attr("y",s).attr("width",o).attr("height",n).style("fill","steelblue"),r}function i(t,e){let a=t.select("defs");a.empty()&&(a=t.append("defs")),Object.entries(e).forEach((([t,e])=>{a.append("g").html(e)}))}function c(t,e){const a=t.append("g");let o;return a.attr("class",e),a.translate=function(t,e){return this.attr("transform",`translate(${t},${e})`),this},a.drawBorder=function(t,a,s,o,n,l,r,i){return this.append("rect").attr("class",`${e}-border`).attr("x",t).attr("y",a).attr("width",s).attr("height",o).attr("opacity",i).attr("fill",r).style("stroke",n).style("stroke-width",l),this},a.createSquaresHorizontally=function(t,s,n,l=void 0,r=void 0,i){return o=Array.from({length:t},((t,a)=>({x:a*(s+n),y:0,size:s,id:r?r[a]:"no-idset",class:`${e}-square`,pressstate:l?l[a]:void 0,svgicon:i?i[a]:"square"}))),this.selectAll("rect").data(o).enter().append("rect").attr("x",(t=>t.x)).attr("y",(t=>t.y)).attr("width",(t=>t.size)).attr("height",(t=>t.size)).attr("id",(t=>t.id)).attr("class",(t=>t.class)).attr("opacity",.2).style("fill",(t=>void 0===t.pressstate?"gray":t.pressstate?"green":"steelblue")).style("stroke-width","2px"),a.selectAll("use").data(o).enter().append("use").attr("xlink:href",(t=>void 0===t.svgicon?"#symbol1":`#${t.svgicon}`)).attr("width",(t=>t.size)).attr("height",(t=>t.size)).attr("x",(t=>t.x)).attr("y",(t=>t.y)).attr("id",(t=>`svg${t.id}`)).style("fill",(t=>void 0===t.pressstate?"gray":t.pressstate?"green":"red")).attr("pointer-events","none"),this},a.attachClickEvent=function(t){return this.selectAll("rect").on("click",(function(e){const a=s.select(this),n=a.attr("id"),l=a.attr("class"),r=o.findIndex((t=>t.id===n));-1!==r&&(void 0!==o[r].pressstate&&(o[r].pressstate=!o[r].pressstate,a.style("fill",o[r].pressstate?"green":"steelblue"),s.selectAll(`#svg${n}`).style("fill",o[r].pressstate?"green":"red")),t(n,l,o[r].pressstate))})),this},a}function h(t,e,a,o,n,l,r,i){const c=s.line().x(((t,a)=>o(e[a]))).y(((t,e)=>n(a[e])));t.append("path").datum(a).attr("class",`all allplot lineplot linePlot-${l}`).attr("clip-path",`url(#clip-${r})`).attr("fill","none").attr("stroke",i).attr("stroke-width",2).attr("d",c)}function u(t,e,a,s,o,n,l,r,i){const c=s(e[1])-s(e[0]);t.selectAll(".bar").data(a).enter().append("rect").attr("class",`all allplot barplot barplot-${n}`).attr("clip-path",`url(#clip-${l})`).attr("x",((t,a)=>s(e[a])-c/4)).attr("y",(t=>o(t))).attr("width",c/2).attr("height",(t=>r[0]-o(t))).attr("fill",i)}function p(t,e,a,o,n,l){e.forEach(((e,r)=>{const i=e.x.reduce(((t,e)=>t+e),0)/e.x.length,c=e.y.reduce(((t,e)=>t+e),0)/e.y.length,h=s.line().x(((t,s)=>a(e.x[s]))).y(((t,a)=>o(e.y[a])));t.append("path").datum(e.y).attr("class",`all allplot multilineplot multilineplot-${e.label}`).attr("clip-path",`url(#clip-${n})`).attr("fill","none").attr("stroke",l).attr("stroke-width",1).attr("d",h),t.append("text").attr("x",a(i)).attr("y",o(c)-10).attr("fill",l).attr("class",`all multilineplot avg-label-${e.label}`).text(`${e.label}`)}))}function d(t,e,a,s,o,n,l,r,i){const c=s(e[1])-s(e[0]),h=Object.keys(a).length,u=c-.2*c,p=u/h;Object.keys(a).forEach(((c,d)=>{const g=a[c];t.selectAll(`.bar-${c}`).data(g).enter().append("rect").attr("class",`all allplot mulitbarplot mulitbarplot-${n} bar-${c}`).attr("clip-path",`url(#clip-${l})`).attr("x",((t,a)=>s(e[a])-u/2+d*p+(u-p*h)/2)).attr("y",(t=>o(t))).attr("width",p).attr("height",(t=>r[0]-o(t))).attr("fill",i[c])}))}function g(t,e,a,s,o,n,l,r,i,c){const h=l(1)-l(0),u=e,p=t.selectAll(".wickplot").data(u),d=t.selectAll(".candleplot").data(u);p.enter().append("line").attr("class",`all ohlcplot wickplot wickplot-${i}`).attr("clip-path",`url(#clip-${c})`).merge(p).attr("x1",((t,a)=>l(e[a]))).attr("y1",((t,e)=>r(s[e]))).attr("x2",((t,a)=>l(e[a]))).attr("y2",((t,e)=>r(o[e]))).attr("stroke","black").attr("stroke-width",1),p.exit().remove(),d.enter().append("rect").attr("class",`all ohlcplot candleplot candleplot-${i}`).attr("clip-path",`url(#clip-${c})`).merge(d).attr("x",((t,a)=>l(e[a])-h/4)).attr("y",((t,e)=>r(Math.max(a[e],n[e])))).attr("width",h/2).attr("height",((t,e)=>0==Math.abs(r(a[e])-r(n[e]))?.001*r(n[e]):Math.abs(r(a[e])-r(n[e])))).attr("fill",((t,e)=>a[e]>n[e]?"red":"green")).attr("stroke","black").attr("stroke-width",1),d.exit().remove()}function m(t,e,a,s,o,n,l){t.selectAll(".scatter-point").data(e).enter().append("circle").attr("class",` all scatterplot scatter-point  scatter-point-${o}`).attr("clip-path",`url(#clip-${n})`).attr("cx",(t=>a(t.xData))).attr("cy",(t=>s(t.yData))).attr("r",(t=>t.size)).attr("fill",(t=>t.color)).attr("stroke","none"),l&&t.selectAll(".scatter-label").data(e).enter().append("text").attr("class",`all scatterplot scatter-label scatter-label-${o}`).attr("clip-path",`url(#clip-${n})`).attr("x",(t=>a(t.xData)+5)).attr("y",(t=>s(t.yData)-5)).text((t=>t.label)).attr("fill","black").style("font-size","10px")}function x(t,e,a,s,n,l){const r=.01,i=t.selectAll(".backtestplot").data(e);i.enter().append("path").attr("class",`all backtestplot backtestplot-${n}`).attr("clip-path",`url(#clip-${l})`).attr("d",(t=>{const e=a(t.index),n=t.index,l=o.Gi.low[n],i=o.Gi.high[n];return"trigger"===t.buyorsell||"PatternBaseIndex"===t.buyorsell?`M${e-8},${s(l-l*r)-8} h16 v16 h-16 Z`:"buy"===t.buyorsell?`M${e},${s(l-l*r)-8} l8,16 l-16,0 Z`:"sell"===t.buyorsell?`M${e},${s(i+i*r)+8} l8,-16 l-16,0 Z`:null})).attr("fill",(t=>"trigger"===t.buyorsell?"blue":"buy"===t.buyorsell?"cyan":"sell"===t.buyorsell?t.pnl&&t.pnl>0?"green":"red":"PatternBaseIndex"===t.buyorsell?"yellow":"brown")).attr("stroke","black").attr("stroke-width",1),i.exit().remove()}},470:(t,e,a)=>{a.d(e,{A:()=>i});var s=a(507),o=a(287),n=a(126),l=a(424);class r{constructor(){const{targetID:t,svgWidth:e,svgHeight:a,margin:s,width:l,height:r}=n.dO;this.setupSVG(),this.BackGroup=(0,o.lo)(this.svg,"back-area").drawBorder(0,0,e,a,"red",2,"blue",0),this.BackChartGroup=(0,o.lo)(this.svg,"backchart-border"),this.FrontGroup=(0,o.lo)(this.svg,"main-border").drawBorder(s.left+s.innerLeft,s.top+s.innerTop,l+s.innerRight,r,"green",3,"yellow",0),this.ResetButton=(0,o.lo)(this.svg,"reset-area").translate(e-s.right,a-s.bottom).drawBorder(0,0,s.right,s.bottom,"red",0,"white",.1,!0)}static getInstance(){return r.instance||(r.instance=new r),r.instance}createYaxiseventArea(t){const e=Array.from(n.Aw.yaxisTag),a=this.svg;a.selectAll(".rect.yzoom").each((function(){const t=s.select(this).attr("class").split("yzoom-")[1];e.includes(t)||(console.log(e,"removed-",t),a.select(`.yzoom-${t}`).remove())})),this.svg.selectAll(".yzoom").remove();const{targetID:l,svgWidth:r,svgHeight:i,margin:c,width:h,height:u}=n.dO;e.forEach(((e,a)=>{const s=n.Mr[e].range;(0,o.lo)(this.svg,`yzoom yzoom-${e}`).drawBorder(r-c.right,s[1],c.right,s[0]-s[1],"red",5,"green",0/(a+1)).call(t)}))}createbuttonpanel(t,e,a){const s={};for(const t in a){const e=a[t].buttonid;e in s||(s[e]=[]),s[e].push(a[t])}const l=Object.keys(s).length,r=new Array(l).fill(!1),i=new Array(l).fill("defaultsvg"),c=[];Object.keys(s).forEach(((t,e)=>{r[e]=s[t][0].plotStatus,c[e]=t,i[e]=s[t][0].buttonSvgIcon}));const h=Array(e).fill("no-idset",0,e-1),u=[...c,...h.slice(c.length)];u.splice(0,0,"liverubfn"),r.splice(0,0,!1),i.splice(0,0,"live"),this.Buttonpanel=(0,o.xI)(this.svg,"top-button-panel").translate(n.dO.margin.left+n.dO.margin.innerLeft,0).createSquaresHorizontally(e,1.5*n.dO.margin.top,2,r,u,i).attachClickEvent(t)}createTooltipArea(){const t=Array.from(n.Aw.yaxisTag);Array.from(n.Aw.plotName),this.BackChartGroup.selectAll(".tooltip").remove(),t.map((t=>{const e=n.Mr[t].plotname;let a=0;e.forEach((e=>{n.mb[e].tooltip&&n.mb[e].getTooltipHTML&&(0,o.Iv)(this.BackChartGroup,`tooltip tooltip-${t}-${e}`).translate(n.dO.margin.innerLeft+n.dO.margin.left,n.Mr[t].range[1]+n.dO.margin.innerTop*a).drawBorder(0,0,n.dO.svgWidth,n.dO.margin.innerTop,"red",2,"blue",0),a++}))}))}setupSVG(){const{targetID:t,svgWidth:e,svgHeight:a,margin:r,width:i,height:c}=n.dO,h=s.select(`#svg-${t}`).empty();this.svg=h?s.select(`#${t}`).append("svg").attr("id",`svg-${t}`).attr("width",e).attr("height",a):s.select(`#svg-${t}`),this.svg.append("rect").attr("width",e).attr("height",a).style("fill","none").style("stroke","black").style("stroke-width",1),(0,o.y7)(this.svg,l.N)}}r.instance=null;const i=r},628:(t,e,a)=>{a.d(e,{Rg:()=>l,rF:()=>n,sx:()=>r});var s=a(126);function o(t){const e=new Date(1e3*t);return`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}:${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`}function n(t,e,a){if(Number.isNaN(e))return;a.selectAll(`.tooliptext-${t}-${this.plotName}`).remove();const n=[0,50,150,80,80,80],l=[{I:{value:e}},{D:{value:o(s.Gi.timestamp[e]),color:"blue"}},{O:{value:s.Gi.open[e].toFixed(2),color:"blue"}},{H:{value:s.Gi.high[e].toFixed(2),color:"green"}},{L:{value:s.Gi.low[e].toFixed(2),color:"red"}},{C:{value:s.Gi.close[e].toFixed(2),color:"blue"}}];let r=0;for(const e of l)for(const s in e)if(e.hasOwnProperty(s)){const o=e[s].value;a.append("text").attr("class",`tooliptext-${t}-${this.plotName}`).attr("x",n.slice(0,r+1).reduce(((t,e)=>t+e),0)).attr("y",10).append("tspan").text(`${s}: ${o}`).attr("fill",e[s].color||"black"),r++}}function l(t,e,a){a.selectAll(`.tooliptext-${t}-${this.plotName}`).remove();const o=[0,40,70,70,70],n=[{V:{value:s.Gi.volume[e],color:"blue"}}];let l=0;for(const e of n)for(const s in e)if(e.hasOwnProperty(s)){const n=e[s].value;a.append("text").attr("class",`tooliptext-${t}-${this.plotName}`).attr("x",o.slice(0,l+1).reduce(((t,e)=>t+e),0)).attr("y",10).append("tspan").text(`${s}: ${n}`).attr("fill",e[s].color||"black"),l++}}function r(t,e){Array.from(s.Aw.plotName).forEach((a=>{const o=s.mb[a];if(o&&o.tooltip&&o.getTooltipHTML){const n=o.yscaleTag,l=s.Yh[n].yaxisTag,r=t.select(`.tooltip-${l}-${a}`);o.getTooltipHTML(l,e,r)}}))}},220:(t,e,a)=>{a.d(e,{v:()=>n});var s=a(126),o=a(287);function n(t,e,a){const o=Array.from(s.Aw.plotName),n=(0,s.Iy)();t.selectAll(".lineplot").remove(),t.selectAll(".barplot").remove(),t.selectAll(".ohlcplot").remove(),t.selectAll(".scatterplot").remove(),t.selectAll(".mulitbarplot").remove(),t.selectAll(".multilineplot").remove(),t.selectAll(".backtestplot").remove();for(let a in n)Object.prototype.hasOwnProperty.call(n,a)&&("line"==a&&n[a].forEach((a=>{o.includes(a)&&i(a,t,e)})),"multiline"==a&&n[a].forEach((a=>{o.includes(a)&&c(a,t,e)})),"bar"==a&&n[a].forEach((a=>{o.includes(a)&&h(a,t,e)})),"mulitbar"==a&&n[a].forEach((a=>{o.includes(a)&&u(a,t,e)})),"ohlc"==a&&n[a].forEach((a=>{o.includes(a)&&p(a,t,e)})),"backtest"==a&&n[a].forEach((a=>{o.includes(a)&&l(a,t,e)})),"scatter"==a&&n[a].forEach((a=>{o.includes(a)&&r(a,t,e)})))}function l(t,e,a){s.mb[t].plotcolor;const n=a.property("__zoom"),l=(s.Yh[s.mb[t].yscaleTag].yzoomtransform,s.jx[s.mb[t].xscaleTag].xscale().XSCALE),r=s.Yh[s.mb[t].yscaleTag].yscale().TranSFormedYscale;let i=s.jx[s.mb[t].xscaleTag].zoomstatus?n.rescaleX(l):l,c=r;const h=s.Yh[s.mb[t].yscaleTag].yaxisTag,u=(s.Mr[h].range,s.Gi.backtestresultline);(0,o.Gu)(e,u,i,c,t,h)}function r(t,e,a){const n=s.Yh[s.mb[t].yscaleTag].xscaleVisibleRange;let l=[],r=[];0==n[1]?(l=s.mb[t].xdata(),r=s.mb[t].ydata()):(l=s.mb[t].xdata().slice(n[0],n[1]),r=s.mb[t].ydata().slice(n[0],n[1])),s.mb[t].plotcolor;const i=a.property("__zoom"),c=(s.Yh[s.mb[t].yscaleTag].yzoomtransform,s.jx[s.mb[t].xscaleTag].xscale().XSCALE),h=s.Yh[s.mb[t].yscaleTag].yscale().TranSFormedYscale;let u=s.jx[s.mb[t].xscaleTag].zoomstatus?i.rescaleX(c):c,p=h;const d=s.Yh[s.mb[t].yscaleTag].yaxisTag;let g=[];l.map(((t,e)=>{g.push({xData:t,yData:r[e],label:`${e}`,color:"red",size:2})})),(0,o.L3)(e,g,u,p,t,d,!1)}function i(t,e,a){const n=s.Yh[s.mb[t].yscaleTag].xscaleVisibleRange;let l=[],r=[];if(0==n[1])l=s.mb[t].xdata(),r=s.mb[t].ydata();else if(s.mb[t].clipdata){const e=function(t,e,a,s){const o=[],n=[];for(let l=0;l<t.length;l++)t[l]>=a&&t[l]<=s&&(o.push(t[l]),n.push(e[l]));return{xdata:o,ydata:n}}(s.mb[t].xdata(),s.mb[t].ydata(),n[0],n[1]);l=e.xdata,r=e.ydata}else l=s.mb[t].xdata(),r=s.mb[t].ydata();let i=s.mb[t].plotcolor;const c=a.property("__zoom"),h=(s.Yh[s.mb[t].yscaleTag].yzoomtransform,s.jx[s.mb[t].xscaleTag].xscale().XSCALE),u=s.Yh[s.mb[t].yscaleTag].yscale().TranSFormedYscale;let p=s.jx[s.mb[t].xscaleTag].zoomstatus?c.rescaleX(h):h,d=u;const g=s.Yh[s.mb[t].yscaleTag].yaxisTag,m=[],x=[];r.forEach(((t,e)=>{isNaN(t)||void 0===t||(m.push(e),x.push(t))}));const f=m.map((t=>l[t]));(0,o.U4)(e,f,x,p,d,t,g,i)}function c(t,e,a){s.Yh[s.mb[t].yscaleTag].xscaleVisibleRange;let n=[];n=s.mb[t].ydata();let l=s.mb[t].plotcolor;const r=a.property("__zoom"),i=(s.Yh[s.mb[t].yscaleTag].yzoomtransform,s.jx[s.mb[t].xscaleTag].xscale().XSCALE),c=s.Yh[s.mb[t].yscaleTag].yscale().TranSFormedYscale;let h=s.jx[s.mb[t].xscaleTag].zoomstatus?r.rescaleX(i):i,u=c;const p=s.Yh[s.mb[t].yscaleTag].yaxisTag;(0,o.xR)(e,n,h,u,p,l)}function h(t,e,a){const n=s.Yh[s.mb[t].yscaleTag].xscaleVisibleRange;let l=[],r=[];0==n[1]?(l=s.mb[t].xdata(),r=s.mb[t].ydata()):(l=s.mb[t].xdata().slice(n[0],n[1]),r=s.mb[t].ydata().slice(n[0],n[1])),s.jx[s.mb[t].xscaleTag].xsaleType;let i=s.mb[t].plotcolor;const c=a.property("__zoom"),h=(s.Yh[s.mb[t].yscaleTag].yzoomtransform,s.jx[s.mb[t].xscaleTag].xscale().XSCALE),u=s.Yh[s.mb[t].yscaleTag].yscale().TranSFormedYscale;let p=s.jx[s.mb[t].xscaleTag].zoomstatus?c.rescaleX(h):h,d=u;const g=s.Yh[s.mb[t].yscaleTag].yaxisTag,m=s.Mr[g].range;(0,o.D1)(e,l,r,p,d,t,g,m,i)}function u(t,e,a){const n=s.Yh[s.mb[t].yscaleTag].xscaleVisibleRange;let l=[],r={};if(0==n[1])l=s.mb[t].xdata(),r=s.mb[t].ydata();else{l=s.mb[t].xdata().slice(n[0],n[1]);let e=s.mb[t].ydata();Object.keys(e).forEach((t=>{r[t]=e[t].slice(n[0],n[1])}))}s.mb[t].plotcolor;const i=a.property("__zoom"),c=(s.Yh[s.mb[t].yscaleTag].yzoomtransform,s.jx[s.mb[t].xscaleTag].xscale().XSCALE),h=s.Yh[s.mb[t].yscaleTag].yscale().TranSFormedYscale;let u=s.jx[s.mb[t].xscaleTag].zoomstatus?i.rescaleX(c):c,p=h;const d=s.Yh[s.mb[t].yscaleTag].yaxisTag,g=s.Mr[d].range;(0,o.gl)(e,l,r,u,p,t,d,g,{a1:"brown",b1:"lightblue"})}function p(t,e,a){const n=s.Yh[s.mb[t].yscaleTag].xscaleVisibleRange;let l=[],r=[],i=[],c=[],h=[];0==n[1]?(l=s.mb[t].xdata(),r=s.Gi.open,i=s.Gi.high,c=s.Gi.low,h=s.Gi.close):(l=s.mb[t].xdata().slice(n[0],n[1]),r=s.Gi.open.slice(n[0],n[1]),i=s.Gi.high.slice(n[0],n[1]),c=s.Gi.low.slice(n[0],n[1]),h=s.Gi.close.slice(n[0],n[1])),s.mb[t].plotcolor;const u=a.property("__zoom"),p=(s.Yh[s.mb[t].yscaleTag].yzoomtransform,s.jx[s.mb[t].xscaleTag].xscale().XSCALE),d=s.Yh[s.mb[t].yscaleTag].yscale().TranSFormedYscale;let g=s.jx[s.mb[t].xscaleTag].zoomstatus?u.rescaleX(p):p,m=d;const x=s.Yh[s.mb[t].yscaleTag].yaxisTag;s.Mr[x].range,(0,o.$M)(e,l,r,i,c,h,g,m,t,x)}},424:(t,e,a)=>{a.d(e,{N:()=>s});const s={defaultsvg:'<symbol id="defaultsvg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="red" /></symbol>',gradient1:'<linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:rgb(255,255,0);stop-opacity:1" /><stop offset="100%" style="stop-color:rgb(255,0,0);stop-opacity:1" /></linearGradient>',myCircle:'<circle id="myCircle" cx="50" cy="50" r="50" />',"icon-user":'<symbol id="icon-user" viewBox="0 0 32 32">\n    <title>user</title>\n    <path d="M18 22.082v-1.649c2.203-1.241 4-4.337 4-7.432 0-4.971 0-9-6-9s-6 4.029-6 9c0 3.096 1.797 6.191 4 7.432v1.649c-6.784 0.555-12 3.888-12 7.918h28c0-4.030-5.216-7.364-12-7.918z"></path>\n  </symbol>',my:'<?xml version="1.0" encoding="utf-8"?>\x3c!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools --\x3e\n  <svg id="my" width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M7 12H17M8 8.5C8 8.5 9 9 10 9C11.5 9 12.5 8 14 8C15 8 16 8.5 16 8.5M8 15.5C8 15.5 9 16 10 16C11.5 16 12.5 15 14 15C15 15 16 15.5 16 15.5M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n  </svg>',home:'<svg id="home" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\x3c!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>',barchart:'<svg id="barchart" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M160 80c0-26.5 21.5-48 48-48h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V80zM0 272c0-26.5 21.5-48 48-48H80c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V272zM368 96h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H368c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48z"/></svg>',chartline:'<svg id="chartline" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64V400c0 44.2 35.8 80 80 80H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H80c-8.8 0-16-7.2-16-16V64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"/></svg>',square:'<svg id="square" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96z"/></svg>',hline:'<svg id="hline" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!--!Font Awesome Free 6.5. by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M32 288c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 288zm0-128c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 160z"/></svg>',E5:'<svg id="E5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n  \x3c!-- Draws text "SI" at coordinates (224, 256) for better central alignment --\x3e\n  <text x="224" y="256" font-size="392"  font-family="sans" text-anchor="middle" dominant-baseline="central">E5</text>\n</svg>',Volume:'<svg id="Volume" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n\x3c!-- Draws text "SI" at coordinates (224, 256) for better central alignment --\x3e\n<text x="224" y="256" font-size="392"  font-family="sans" text-anchor="middle" dominant-baseline="central">V</text>\n</svg>',CRSI:'<svg id="CRSI" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n\x3c!-- Draws text "SI" at coordinates (224, 256) for better central alignment --\x3e\n<text x="224" y="256" font-size="392"  font-family="sans" text-anchor="middle" dominant-baseline="central">CR</text>\n</svg>',RSI:'<svg id="RSI" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n\x3c!-- Draws text "SI" at coordinates (224, 256) for better central alignment --\x3e\n<text x="224" y="256" font-size="392"  font-family="sans" text-anchor="middle" dominant-baseline="central">RS</text>\n</svg>',ADX:'<svg id="ADX" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n\x3c!-- Draws text "SI" at coordinates (224, 256) for better central alignment --\x3e\n<text x="224" y="256" font-size="392"  font-family="sans" text-anchor="middle" dominant-baseline="central">AD</text>\n</svg>',EPS:'<svg id="EPS" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n\x3c!-- Draws text "SI" at coordinates (224, 256) for better central alignment --\x3e\n<text x="224" y="256" font-size="392"  font-family="sans" text-anchor="middle" dominant-baseline="central">EP</text>\n</svg>',live:'<svg id="live" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="50px" height="50px"><path d="M 8.0136719 7.0292969 A 1.0001 1.0001 0 0 0 7.3222656 7.3222656 C 2.7995047 11.846068 -1.1842379e-15 18.102792 0 25 C 0 31.897208 2.7995047 38.153932 7.3222656 42.677734 A 1.0001 1.0001 0 0 0 8.7363281 42.677734 L 11.570312 39.84375 A 1.0001 1.0001 0 0 0 11.570312 38.429688 C 8.1286602 34.987084 6 30.242812 6 25 C 6 19.757188 8.1297921 15.013788 11.572266 11.572266 A 1.0001 1.0001 0 0 0 11.572266 10.158203 L 8.7363281 7.3222656 A 1.0001 1.0001 0 0 0 8.0136719 7.0292969 z M 41.957031 7.0292969 A 1.0001 1.0001 0 0 0 41.263672 7.3222656 L 38.427734 10.158203 A 1.0001 1.0001 0 0 0 38.427734 11.572266 C 41.870208 15.013788 44 19.757188 44 25 C 44 30.242812 41.870208 34.986212 38.427734 38.427734 A 1.0001 1.0001 0 0 0 38.427734 39.841797 L 41.263672 42.677734 A 1.0001 1.0001 0 0 0 42.677734 42.677734 C 47.201645 38.154865 50 31.897208 50 25 C 50 18.102792 47.200495 11.846068 42.677734 7.3222656 A 1.0001 1.0001 0 0 0 41.957031 7.0292969 z M 8.0976562 9.5117188 L 9.5195312 10.933594 C 6.1269359 14.664061 4 19.575176 4 25 C 4 30.424712 6.1260807 35.337173 9.5175781 39.068359 L 8.0976562 40.488281 C 4.3450168 36.394537 2 30.995061 2 25 C 2 19.004939 4.3450168 13.605463 8.0976562 9.5117188 z M 41.902344 9.5117188 C 45.654983 13.605463 48 19.004939 48 25 C 48 30.995061 45.655695 36.395442 41.902344 40.488281 L 40.480469 39.066406 C 43.873064 35.335939 46 30.424824 46 25 C 46 19.575176 43.873064 14.664061 40.480469 10.933594 L 41.902344 9.5117188 z M 14.382812 13.398438 A 1.0001 1.0001 0 0 0 13.691406 13.691406 C 10.796092 16.587786 9 20.593819 9 25 C 9 29.406181 10.796092 33.412214 13.691406 36.308594 A 1.0001 1.0001 0 0 0 15.105469 36.308594 L 17.931641 33.482422 A 1.0001 1.0001 0 0 0 17.931641 32.068359 C 16.119902 30.255711 15 27.761761 15 25 C 15 22.238239 16.119902 19.744289 17.931641 17.931641 A 1.0001 1.0001 0 0 0 17.931641 16.517578 L 15.105469 13.691406 A 1.0001 1.0001 0 0 0 14.382812 13.398438 z M 35.587891 13.398438 A 1.0001 1.0001 0 0 0 34.894531 13.691406 L 32.068359 16.517578 A 1.0001 1.0001 0 0 0 32.068359 17.931641 C 33.880098 19.744289 35 22.238239 35 25 C 35 27.761761 33.880098 30.255711 32.068359 32.068359 A 1.0001 1.0001 0 0 0 32.068359 33.482422 L 34.894531 36.308594 A 1.0001 1.0001 0 0 0 36.308594 36.308594 C 39.203908 33.412214 41 29.406181 41 25 C 41 20.593819 39.203908 16.587786 36.308594 13.691406 A 1.0001 1.0001 0 0 0 35.587891 13.398438 z M 14.466797 15.880859 L 15.947266 17.361328 C 14.184764 19.450917 13 22.061346 13 25 C 13 27.938654 14.184764 30.549083 15.947266 32.638672 L 14.466797 34.119141 C 12.335969 31.66133 11 28.50273 11 25 C 11 21.49727 12.335969 18.33867 14.466797 15.880859 z M 35.533203 15.880859 C 37.664031 18.33867 39 21.49727 39 25 C 39 28.50273 37.664031 31.66133 35.533203 34.119141 L 34.052734 32.638672 C 35.815236 30.549083 37 27.938654 37 25 C 37 22.061346 35.815236 19.450917 34.052734 17.361328 L 35.533203 15.880859 z M 25 18 C 21.134 18 18 21.134 18 25 C 18 28.866 21.134 32 25 32 C 28.866 32 32 28.866 32 25 C 32 21.134 28.866 18 25 18 z M 25 20 C 27.757 20 30 22.243 30 25 C 30 27.757 27.757 30 25 30 C 22.243 30 20 27.757 20 25 C 20 22.243 22.243 20 25 20 z"/></svg>',zoomout:'<svg id="zoomout" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM136 184c-13.3 0-24 10.7-24 24s10.7 24 24 24H280c13.3 0 24-10.7 24-24s-10.7-24-24-24H136z"/></svg>',BT:'<svg id="BT" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n\x3c!-- Draws text "SI" at coordinates (224, 256) for better central alignment --\x3e\n<text x="224" y="256" font-size="392"  font-family="sans" text-anchor="middle" dominant-baseline="central">BT</text>\n</svg>'}},625:(t,e,a)=>{a.d(e,{HO:()=>n,Mf:()=>l,O1:()=>s,WV:()=>o,xZ:()=>r});const s={timestamp:[],xindex:[],open:[],high:[],low:[],close:[],volume:[]},o=[{plotStatus:!0,plotName:"OHLCPlot",xdataTag:"xindex",ydataTag:"ohlc",xscaleTag:"bot",yscaleTag:"TR",plotType:"ohlc",plotcolor:"red",buttontag:"OHLCPlot",buttonSvgIcon:"barchart",tooltip:!0},{plotStatus:!0,plotName:"zigzaglot",xdataTag:"zigzagX",ydataTag:"zigzagY",xscaleTag:"bot",yscaleTag:"TR",plotType:"line",plotcolor:"blue",buttontag:"OHLCPlot",buttonSvgIcon:"barchart",tooltip:!0,clipdata:!1},{plotStatus:!0,plotName:"brlinelot",xdataTag:"xindex",ydataTag:"brlinedata",xscaleTag:"bot",yscaleTag:"TR",plotType:"multiline",plotcolor:"black",buttontag:"BrlInePlot",buttonSvgIcon:"hline",tooltip:!0,clipdata:!1},{plotStatus:!1,plotName:"SMAPlot",xdataTag:"xindex",ydataTag:"ema",xscaleTag:"bot",yscaleTag:"TR",plotType:"line",plotcolor:"red",buttontag:"SMAPlot",buttonSvgIcon:"E5",tooltip:!0},{plotStatus:!1,plotName:"VolumePlot",xdataTag:"xindex",ydataTag:"volume",xscaleTag:"bot",yscaleTag:"BR",plotType:"bar",buttontag:"VolumePlot",buttonSvgIcon:"Volume",plotcolor:"blue",tooltip:!0},{plotStatus:!1,plotName:"HighPlot",xdataTag:"xindex",ydataTag:"high",xscaleTag:"bot",yscaleTag:"LR",plotType:"scatter",buttontag:"HighPlot",buttonSvgIcon:"CRSI"},{plotStatus:!1,plotName:"RSIplt",xdataTag:"xindex",ydataTag:"rsi",xscaleTag:"bot",yscaleTag:"rsi_scale",plotType:"line",plotcolor:"black",buttontag:"RSIPlot",buttonSvgIcon:"RSI"},{plotStatus:!1,plotName:"AdxPlt",xdataTag:"xindex",ydataTag:"adx",xscaleTag:"bot",yscaleTag:"rsi_scale",plotType:"line",plotcolor:"blue",buttontag:"ADXplot",buttonSvgIcon:"ADX"},{plotStatus:!1,plotName:"dmpPlt",xdataTag:"xindex",ydataTag:"dmp",xscaleTag:"bot",yscaleTag:"rsi_scale",plotType:"line",plotcolor:"green",buttontag:"ADXplot",buttonSvgIcon:"ADX"},{plotStatus:!1,plotName:"dmnPlt",xdataTag:"xindex",ydataTag:"dmn",xscaleTag:"bot",yscaleTag:"rsi_scale",plotType:"line",plotcolor:"red",buttontag:"ADXplot",buttonSvgIcon:"ADX"},{plotStatus:!1,plotName:"FundaPlot",xdataTag:"fundaX1",ydataTag:"fundaMultibarY",xscaleTag:"Funda_xscale",yscaleTag:"Funda_yscale",plotType:"mulitbar",buttontag:"FundaPlot",buttonSvgIcon:"EPS"},{plotStatus:!1,plotName:"backtestplot",xdataTag:"xindex",ydataTag:"backtestresultline",xscaleTag:"bot",yscaleTag:"TR",plotType:"backtest",plotcolor:"blue",buttontag:"backtestplot",buttonSvgIcon:"BT",tooltip:!1,clipdata:!1}],n=[{xscaleTag:"bot",xsaleType:"Linear",scaleSide:"Bottom",ticlavelmappedwith:"timestamp",ypoint:20,xscaleRange:[0,100],xscaleDataTag:"xindex",zoomstatus:!0},{xscaleTag:"top",xsaleType:"Linear",scaleSide:"Top",ticlavelmappedwith:"xindex",ypoint:300,xscaleRange:[0,100],xscaleDataTag:"xindex"},{xscaleTag:"Funda_xscale",xsaleType:"Linear",scaleSide:"Top",ticlavelmappedwith:"fundaMappedX1",ypoint:20,xscaleRange:[0,100],xscaleDataTag:"fundaX1",zoomstatus:!1}],l=[{yscaleTag:"TR",yaxisTag:"1main",scaleSide:"Right",xpoint:100,yscaleDataTag:"ohlc",xscaleVisibleRange:[0,0],zoomstatus:!0,autozoom:!0},{yscaleTag:"TL",yaxisTag:"1main",scaleSide:"Left",xpoint:100,yscaleDataTag:"close",xscaleVisibleRange:[0,0],zoomstatus:!0,autozoom:!1},{yscaleTag:"BR",yaxisTag:"volumeaxis",scaleSide:"Right",xpoint:20,yscaleDataTag:"volume",xscaleVisibleRange:[0,0],autozoom:!0,zoomstatus:!0},{yscaleTag:"LR",yaxisTag:"rsiAxis",scaleSide:"Right",xpoint:20,yscaleDataTag:"high",xscaleVisibleRange:[0,0],autozoom:!0,zoomstatus:!0},{yscaleTag:"rsi_scale",yaxisTag:"rsiAxis",scaleSide:"Right",xpoint:0,yscaleDataTag:"rsi",xscaleVisibleRange:[0,0],autozoom:!1,zoomstatus:!1},{yscaleTag:"Funda_yscale",yaxisTag:"FundaAxis",scaleSide:"Right",xpoint:20,yscaleDataTag:"fundaMultibarY",xscaleVisibleRange:[0,0],autozoom:!1,zoomstatus:!0}],r={svgWidth:500,svgHeight:200,targetID:"chartContainer",stockid:"StockName:1D",liveupdatefunction:function(){throw new Error("Function not implemented.")},margin:{top:20,right:50,bottom:20,left:0,innerLeft:0,innerRight:100,innerBottom:20,innerTop:20},get width(){return this.svgWidth-this.margin.left-this.margin.right-this.margin.innerRight-this.margin.innerLeft},get height(){return this.svgHeight-this.margin.top-this.margin.bottom-this.margin.innerTop-this.margin.innerBottom}}},949:(t,e,a)=>{},56:(t,e,a)=>{},871:(t,e,a)=>{a.d(e,{b:()=>o});var s=a(717);class o{constructor(){}normalize(t,e,a=NaN){const s=t-e.length,o=[];for(let t=0;t<s;++t)o.push(a);return[...o,...e]}floor(t){return t<0?~~t-1:~~t}sqrt(t,e=t/2){const a=(e+t/e)/2;return(e>a?e-a:a-e)<1e-7?a:this.sqrt(t,a)}ad(t,e,a,s,o=a.length){const n=[];let l=0;for(let r=0;r<o;++r){const o=t[r]-e[r];0!=o&&(l+=(a[r]-e[r]-t[r]+a[r])/o*s[r]),n[r]=l}return n}adosc(t,e,a,s,o,n,l=a.length){const r=n-1,i=2/(o+1),c=2/(n+1),h=[];h[n-2]=NaN;let u=0,p=0,d=0;for(let o=0;o<l;++o){const n=t[o]-e[o];0!=n&&(u+=(a[o]-e[o]-t[o]+a[o])/n*s[o]),0==o?(p=u,d=u):(p=(u-p)*i+p,d=(u-d)*c+d),o>=r&&h.push(p-d)}return h}adx(t,e,a,s=t.length){const o=[];o[2*(a-2)+1]=NaN;const n=(a-1)/a,l=1/a;let r=0,i=0;for(let s=1;s<a;++s){let a=t[s]-t[s-1],o=e[s-1]-e[s];a<0?a=0:a>o&&(o=0),o<0?o=0:o>a&&(a=0),r+=a,i+=o}let c=0,h=r,u=i,p=Math.abs(h-u),d=h+u,g=p/d*100;c+=g;for(let m=a;m<s;++m){let s=t[m]-t[m-1],x=e[m-1]-e[m];s<0?s=0:s>x&&(x=0),x<0?x=0:x>s&&(s=0),r=r*n+s,i=i*n+x,h=r,u=i,p=Math.abs(h-u),d=h+u,g=p/d*100,m-a<a-2?c+=g:m-a==a-2?(c+=g,o.push(c*l)):(c=c*n+g,o.push(c*l))}return o}adxr(t,e,a,s=t.length){const o=[];o[3*(a-1)-1]=NaN;const n=(a-1)/a,l=1/a;let r=0,i=0;for(let s=1;s<a;++s){let a=t[s]-t[s-1],o=e[s-1]-e[s];a<0?a=0:a>o&&(o=0),o<0?o=0:o>a&&(a=0),r+=a,i+=o}let c=0,h=r,u=i,p=Math.abs(h-u),d=h+u,g=p/d*100;c+=g;const m={size:a-1,pushes:0,index:0,vals:[]},x=3*(a-1);for(let f=a;f<s;++f){let s=t[f]-t[f-1],b=e[f-1]-e[f];if(s<0?s=0:s>b&&(b=0),b<0?b=0:b>s&&(s=0),r=r*n+s,i=i*n+b,h=r,u=i,p=Math.abs(h-u),d=h+u,g=p/d*100,f-a<a-2)c+=g;else if(f-a==a-2)c+=g,m.vals[m.index]=c*l,m.index=m.index+1,m.index>=m.size&&(m.index=0);else{if(c=c*n+g,f>=x){const t=m.vals[m.index]+(m.size-1+1)%m.size;o.push(.5*(c*l+t))}m.vals[m.index]=c*l,m.index=m.index+1,m.index>=m.size&&(m.index=0)}}return o}ao(t,e,a=t.length){const s=[];s[32]=NaN;let o=0,n=0;const l=1/34;for(let a=0;a<34;++a){const s=.5*(t[a]+e[a]);o+=s,a>=29&&(n+=s)}s.push(.2*n-l*o);for(let r=34;r<a;++r){const a=.5*(t[r]+e[r]);o+=a,n+=a,o-=.5*(t[r-34]+e[r-34]),n-=.5*(t[r-5]+e[r-5]),s.push(.2*n-l*o)}return s}apo(t,e,a,s=t.length){const o=[];o[0]=NaN;const n=2/(e+1),l=2/(a+1);let r=t[0],i=t[0];for(let e=1;e<s;++e){r=(t[e]-r)*n+r,i=(t[e]-i)*l+i;const a=r-i;o.push(a)}return o}aroon(t,e,a,s=t.length){const o=[],n=[];o[a-1]=NaN,n[a-1]=NaN;const l=100/a;let r,i,c=0,h=-1,u=-1,p=t[0],d=e[0];for(let g=a;g<s;++g,++c){if(r=t[g],h<c)for(h=c,p=t[h],i=c;++i<=g;)r=t[i],r>=p&&(p=r,h=i);else r>=p&&(h=g,p=r);if(r=e[g],u<c)for(u=c,d=e[u],i=c;++i<=g;)r=e[i],r<=d&&(d=r,u=i);else r<=d&&(u=g,d=r);o[o.length]=(a-(g-u))*l,n[n.length]=(a-(g-h))*l}return[o,n]}aroonosc(t,e,a,s=t.length){const o=[];o[a-1]=NaN;const n=100/a;let l,r=0,i=-1,c=-1,h=t[0],u=e[0];for(let p=a;p<s;++p,++r){let a=t[p];if(i<r)for(i=r,h=t[i],l=r;++l<=p;)a=t[l],a>=h&&(h=a,i=l);else a>=h&&(i=p,h=a);if(a=e[p],c<r)for(c=r,u=e[c],l=r;++l<=p;)a=e[l],a<=u&&(u=a,c=l);else a<=u&&(c=p,u=a);o.push((i-c)*n)}return o}atr(t,e,a,s,o=t.length){const n=[];n[s-2]=NaN;const l=1/s;let r,i=0;i+=t[0]-e[0];for(let o=1;o<s;++o){const s=e[o],n=t[o],l=a[o-1],c=Math.abs(n-l),h=Math.abs(s-l);let u=n-s;c>u&&(u=c),h>u&&(u=h),r=u,i+=r}let c=i/s;n.push(c);for(let i=s;i<o;++i){const s=e[i],o=t[i],h=a[i-1],u=Math.abs(o-h),p=Math.abs(s-h);let d=o-s;u>d&&(d=u),p>d&&(d=p),r=d,c=(r-c)*l+c,n.push(c)}return n}avgprice(t,e,a,s,o=t.length){const n=[];for(let l=0;l<o;++l)n.push(.25*(t[l]+e[l]+a[l]+s[l]));return n}bbands(t,e,a,s=t.length){const o=[],n=[],l=[];o[e-2]=NaN,n[e-2]=NaN,l[e-2]=NaN;const r=1/e;let i=0,c=0;for(let a=0;a<e;++a)i+=t[a],c+=t[a]*t[a];let h=Math.sqrt(c*r-i*r*(i*r));const u=i*r;o.push(u-a*h),l.push(u+a*h),n.push(u);for(let u=e;u<s;++u){i+=t[u],c+=t[u]*t[u],i-=t[u-e],c-=t[u-e]*t[u-e],h=Math.sqrt(c*r-i*r*(i*r));const s=i*r;l.push(s+a*h),o.push(s-a*h),n.push(s)}return[o,n,l]}bop(t,e,a,s,o=t.length){const n=[];for(let l=0;l<o;++l){const o=e[l]-a[l];n[l]=o<=0?0:(s[l]-t[l])/o}return n}cci(t,e,a,o,n=t.length){const l=1/o,r=[];r[2*(o-2)+1]=NaN;const i=new s.f(o);let c,h;for(c=0;c<n;++c){const s=(t[c]+e[c]+a[c])*(1/3);i.push(s);const n=i.sum*l;if(c>=2*o-2){let t=0;for(h=0;h<o;++h)t+=Math.abs(n-i.vals[h]);let e=t*l;e*=.015,e=(s-n)/e,r.push(e)}}return r}cmo(t,e,a=t.length){const s=[];s[e-1]=NaN;let o=0,n=0;for(let a=1;a<=e;++a)o+=t[a]>t[a-1]?t[a]-t[a-1]:0,n+=t[a]<t[a-1]?t[a-1]-t[a]:0;s.push(100*(o-n)/(o+n));for(let l=e+1;l<a;++l)o-=t[l-e]>t[l-e-1]?t[l-e]-t[l-e-1]:0,n-=t[l-e]<t[l-e-1]?t[l-e-1]-t[l-e]:0,o+=t[l]>t[l-1]?t[l]-t[l-1]:0,n+=t[l]<t[l-1]?t[l-1]-t[l]:0,s.push(100*(o-n)/(o+n));return s}crossany(t,e,a=t.length){const s=[];for(let o=0;o<a;++o)s.push(t[o]>e[o]&&t[o-1]<=e[o-1]||t[o]<e[o]&&t[o-1]>=e[o-1]);return s}crossover(t,e,a=t.length){const s=[];for(let o=0;o<a;++o)s.push(t[o]>e[o]&&t[o-1]<=e[o-1]);return s}crossOverNumber(t,e){const a=[];for(let s=0;s<t.length;s++){const o=t[s],n=t[s-1];o>e&&n<=e?a.push(!0):a.push(!1)}return a}crossUnderNumber(t,e){const a=[];for(let s=0;s<t.length;s++){const o=t[s],n=t[s-1];o<e&&n>=e?a.push(!0):a.push(!1)}return a}cvi(t,e,a,o=t.length){const n=[];n[2*(a-1)]=NaN;const l=2/(a+1),r=new s.f(a);let i,c=t[0]-e[0];for(i=1;i<2*a-1;++i)c=(t[i]-e[i]-c)*l+c,r.qpush(c);for(i=2*a-1;i<o;++i){c=(t[i]-e[i]-c)*l+c;const a=r.vals[r.index];n.push(100*(c-a)/a),r.qpush(c)}return n}decay(t,e,a=t.length){const s=[],o=1/e;s.push(t[0]);for(let e=1;e<a;++e){const a=s[s.length-1]-o;s.push(t[e]>a?t[e]:a)}return s}dema(t,e,a=t.length){const s=[];s[2*(e-1)-1]=NaN;const o=2/(e+1),n=1-o;let l=t[0],r=l;for(let i=0;i<a;++i)l=l*n+t[i]*o,i==e-1&&(r=l),i>=e-1&&(r=r*n+l*o,i>=2*(e-1)&&s.push(2*l-r));return s}di(t,e,a,s,o=t.length){const n=[],l=[];n[s-2]=NaN,l[s-2]=NaN;const r=(s-1)/s;let i=0,c=0,h=0;for(let o=1;o<s;++o){const s=e[o],n=t[o],l=a[o-1],r=Math.abs(n-l),u=Math.abs(s-l);let p=n-s;r>p&&(p=r),u>p&&(p=u),i+=p;let d=t[o]-t[o-1],g=e[o-1]-e[o];d<0?d=0:d>g&&(g=0),g<0?g=0:g>d&&(d=0),c+=d,h+=g}n.push(100*c/i),l.push(100*h/i);for(let u=s;u<o;++u){const s=e[u],o=t[u],p=a[u-1],d=Math.abs(o-p),g=Math.abs(s-p);let m=o-s;d>m&&(m=d),g>m&&(m=g),i=i*r+m;let x=t[u]-t[u-1],f=e[u-1]-e[u];x<0?x=0:x>f&&(f=0),f<0?f=0:f>x&&(x=0),c=c*r+x,h=h*r+f,n.push(100*c/i),l.push(100*h/i)}return[n,l]}dm(t,e,a,s=t.length){const o=[],n=[];o[a-2]=NaN,n[a-2]=NaN;const l=(a-1)/a;let r=0,i=0;for(let s=1;s<a;++s){let a=t[s]-t[s-1],o=e[s-1]-e[s];a<0?a=0:a>o&&(o=0),o<0?o=0:o>a&&(a=0),r+=a,i+=o}o.push(r),n.push(i);for(let c=a;c<s;++c){let a=t[c]-t[c-1],s=e[c-1]-e[c];a<0?a=0:a>s&&(s=0),s<0?s=0:s>a&&(a=0),r=r*l+a,i=i*l+s,o.push(r),n.push(i)}return[o,n]}dpo(t,e,a=t.length){const s=e/2+1,o=[];o[e-2]=NaN;const n=1/e;let l=0;for(let a=0;a<e;++a)l+=t[a];o.push(t[e-1-s]-l*n);for(let r=e;r<a;++r)l+=t[r],l-=t[r-e],o.push(t[r-s]-l*n);return o}dx(t,e,a,s=t.length){const o=[];o[a-2]=NaN;const n=(a-1)/a;let l=0,r=0;for(let s=1;s<a;++s){let a=t[s]-t[s-1],o=e[s-1]-e[s];a<0?a=0:a>o&&(o=0),o<0?o=0:o>a&&(a=0),l+=a,r+=o}let i=l,c=r,h=Math.abs(i-c),u=i+c,p=h/u*100;o.push(p);for(let d=a;d<s;++d){let a=t[d]-t[d-1],s=e[d-1]-e[d];a<0?a=0:a>s&&(s=0),s<0?s=0:s>a&&(a=0),l=l*n+a,r=r*n+s,i=l,c=r,h=Math.abs(i-c),u=i+c,p=h/u*100,o.push(p)}return o}edecay(t,e,a=t.length){const s=[],o=1-1/e;s.push(t[0]);for(let e=1;e<a;++e){const a=s[s.length-1]*o;s.push(t[e]>a?t[e]:a)}return s}ema(t,e,a=t.length){const s=[],o=2/(e+1);let n=t[0];s.push(n);for(let e=1;e<a;++e)n=(t[e]-n)*o+n,s.push(n);return s}emv(t,e,a,s=t.length){const o=[];o[0]=NaN;let n=.5*(t[0]+e[0]);for(let l=1;l<s;++l){const s=.5*(t[l]+e[l]),r=a[l]/1e4/(t[l]-e[l]);o.push((s-n)/r),n=s}return o}fisher(t,e,a,s=t.length){const o=[],n=[];o[a-2]=NaN,n[a-2]=NaN;let l,r,i=0,c=-1,h=-1,u=.5*(t[0]+e[0]),p=.5*(t[0]+e[0]),d=0,g=0;for(let m=a-1;m<s;++m,++i){if(l=.5*(t[m]+e[m]),c<i)for(c=i,u=.5*(t[c]+e[c]),r=i;++r<=m;)l=.5*(t[r]+e[r]),l>=u&&(u=l,c=r);else l>=u&&(c=m,u=l);if(l=.5*(t[m]+e[m]),h<i)for(h=i,p=.5*(t[h]+e[h]),r=i;++r<=m;)l=.5*(t[r]+e[r]),l<=p&&(p=l,h=r);else l<=p&&(h=m,p=l);let a=u-p;0==a&&(a=.001),d=.66*((.5*(t[m]+e[m])-p)/a-.5)+.67*d,d>.99&&(d=.999),d<-.99&&(d=-.999),n.push(g),g=.5*Math.log((1+d)/(1-d))+.5*g,o.push(g)}return[o,n]}fosc(t,e,a=t.length){const s=[];s[e-1]=NaN;let o=0,n=0,l=0,r=0;const i=1/e;let c=0;for(let a=0;a<e-1;++a)o+=a+1,n+=(a+1)*(a+1),r+=t[a]*(a+1),l+=t[a];o+=e,n+=e*e;const h=1/(e*n-o*o);for(let n=e-1;n<a;++n){r+=t[n]*e,l+=t[n];const a=(e*r-o*l)*h,u=(l-a*o)*i;n>=e&&s.push(100*(t[n]-c)/t[n]),c=u+a*(e+1),r-=l,l-=t[n-e+1]}return s}hma(t,e,a=t.length){const o=[],n=Math.floor(e/2),l=Math.floor(Math.sqrt(e)),r=e*(e+1)/2,i=n*(n+1)/2,c=l*(l+1)/2;o[e-1+l-2]=NaN;let h,u=0,p=0,d=0,g=0,m=0,x=0;for(h=0;h<e-1;++h)p+=t[h]*(h+1),u+=t[h],h>=e-n&&(g+=t[h]*(h+1-(e-n)),d+=t[h]);const f=new s.f(l);for(h=e-1;h<a;++h){p+=t[h]*e,u+=t[h],g+=t[h]*n,d+=t[h];const a=g/i*2-p/r;x+=a*l,m+=a,f.qpush(a),h>=e-1+(l-1)?(o.push(x/c),x-=m,m-=f.get(1)):x-=m,p-=u,u-=t[h-e+1],g-=d,d-=t[h-n+1]}return o}kama(t,e,a=t.length){const s=[];s[e-2]=NaN;const o=2/31;let n=0;for(let a=1;a<e;++a)n+=Math.abs(t[a]-t[a-1]);let l,r,i=t[e-1];s.push(i);for(let c=e;c<a;++c)n+=Math.abs(t[c]-t[c-1]),c>e&&(n-=Math.abs(t[c-e]-t[c-e-1])),l=0!=n?Math.abs(t[c]-t[c-e])/n:1,r=Math.pow(.6021505376344085*l+o,2),i+=r*(t[c]-i),s.push(i);return s}kvo(t,e,a,s,o,n,l=t.length){const r=2/(o+1),i=2/(n+1),c=[];c[0]=NaN;let h=0,u=t[0]+e[0]+a[0],p=-1,d=0,g=0;for(let o=1;o<l;++o){const n=t[o]+e[o]+a[o],l=t[o]-e[o];n>u&&1!=p?(p=1,h=t[o-1]-e[o-1]):n<u&&0!=p&&(p=0,h=t[o-1]-e[o-1]),h+=l;const m=s[o]*Math.abs(l/h*2-1)*100*(p?1:-1);1==o?(d=m,g=m):(d=(m-d)*r+d,g=(m-g)*i+g),c.push(d-g),u=n}return c}lag(t,e,a=t.length){const s=[];s[e-1]=NaN;for(let o=e;o<a;++o)s.push(t[o-e]);return s}linreg(t,e,a=t.length){const s=[];s[e-2]=NaN;let o=0,n=0,l=0,r=0;const i=1/e;for(let a=0;a<e-1;++a)o+=a+1,n+=(a+1)*(a+1),r+=t[a]*(a+1),l+=t[a];o+=e,n+=e*e;const c=1/(e*n-o*o);for(let n=e-1;n<a;++n){r+=t[n]*e,l+=t[n];const a=(e*r-o*l)*c,h=(l-a*o)*i;s.push(h+a*e),r-=l,l-=t[n-e+1]}return s}linregintercept(t,e,a=t.length){const s=[];s[e-2]=NaN;let o=0,n=0,l=0,r=0;const i=1/e;for(let a=0;a<e-1;++a)o+=a+1,n+=(a+1)*(a+1),r+=t[a]*(a+1),l+=t[a];o+=e,n+=e*e;const c=1/(e*n-o*o);for(let n=e-1;n<a;++n){r+=t[n]*e,l+=t[n];const a=(e*r-o*l)*c,h=(l-a*o)*i;s.push(h+1*a),r-=l,l-=t[n-e+1]}return s}linregslope(t,e,a=t.length){const s=[];s[e-2]=NaN;let o=0,n=0,l=0,r=0;for(let a=0;a<e-1;++a)o+=a+1,n+=(a+1)*(a+1),r+=t[a]*(a+1),l+=t[a];o+=e,n+=e*e;const i=1/(e*n-o*o);for(let n=e-1;n<a;++n){r+=t[n]*e,l+=t[n];const a=(e*r-o*l)*i;s.push(a),r-=l,l-=t[n-e+1]}return s}macd(t,e,a,s,o=t.length){const n=[],l=[],r=[];n[a-2]=NaN,l[a-2]=NaN,r[a-2]=NaN;const i=2/(e+1),c=2/(a+1),h=2/(s+1);let u=t[0],p=t[0],d=0;for(let e=1;e<o;++e){u=(t[e]-u)*i+u,p=(t[e]-p)*c+p;const s=u-p;e==a-1&&(d=s),e>=a-1&&(d=(s-d)*h+d,n.push(s),l.push(d),r.push(s-d))}return[n,l,r]}marketfi(t,e,a,s=t.length){const o=[];for(let n=0;n<s;++n)o.push((t[n]-e[n])/a[n]);return o}mass(t,e,a,s=t.length){const o=[];o[16+a-2]=NaN;let n=t[0]-e[0],l=n;const r={index:0,pushes:0,size:a,sum:0,vals:[]};for(let i=0;i<s;++i)n=.8*n+.2*(t[i]-e[i]),8==i&&(l=n),i>=8&&(l=.8*l+.2*n,i>=16&&(r.pushes>=r.size&&(r.sum-=r.vals[r.index]),r.sum+=n/l,r.vals[r.index]=n/l,r.pushes+=1,r.index=r.index+1,r.index>=r.size&&(r.index=0),i>=16+a-1&&o.push(r.sum)));return o}max(t,e,a=t.length){const s=[];s[e-2]=NaN;let o,n=0,l=-1,r=t[0];for(let i=e-1;i<a;++i,++n){let e=t[i];if(l<n)for(l=n,r=t[l],o=n;++o<=i;)e=t[o],e>=r&&(r=e,l=o);else e>=r&&(l=i,r=e);s.push(r)}return s}md(t,e,a=t.length){const s=[];s[e-2]=NaN;const o=1/e;let n,l=0;for(let r=0;r<a;++r){l+=t[r],r>=e&&(l-=t[r-e]);const a=l*o;if(r>=e-1){let l=0;for(n=0;n<e;++n)l+=Math.abs(a-t[r-n]);s.push(l*o)}}return s}medprice(t,e,a=t.length){const s=[];for(let o=0;o<a;++o)s.push(.5*(t[o]+e[o]));return s}mfi(t,e,a,s,o,n=t.length){const l=[];l[o-1]=NaN;let r=(t[0]+e[0]+a[0])*(1/3);const i={size:o,index:0,pushes:0,sum:0,vals:[]},c={size:o,index:0,pushes:0,sum:0,vals:[]};for(let h=1;h<n;++h){const n=(t[h]+e[h]+a[h])*(1/3),u=n*s[h];n>r?(i.pushes>=i.size&&(i.sum-=i.vals[i.index]),i.sum+=u,i.vals[i.index]=u,i.pushes+=1,i.index=i.index+1,i.index>=i.size&&(i.index=0),c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=0,c.vals[c.index]=0,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0)):n<r?(c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=u,c.vals[c.index]=u,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0),i.pushes>=i.size&&(i.sum-=i.vals[i.index]),i.sum+=0,i.vals[i.index]=0,i.pushes+=1,i.index=i.index+1,i.index>=i.size&&(i.index=0)):(i.pushes>=i.size&&(i.sum-=i.vals[i.index]),i.sum+=0,i.vals[i.index]=0,i.pushes+=1,i.index=i.index+1,i.index>=i.size&&(i.index=0),c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=0,c.vals[c.index]=0,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0)),r=n,h>=o&&l.push(i.sum/(i.sum+c.sum)*100)}return l}min(t,e,a=t.length){const s=[];s[e-2]=NaN;let o,n=0,l=-1,r=t[0];for(let i=e-1;i<a;++i,++n){let e=t[i];if(l<n)for(l=n,r=t[l],o=n;++o<=i;)e=t[o],e<=r&&(r=e,l=o);else e<=r&&(l=i,r=e);s.push(r)}return s}mom(t,e,a=t.length){const s=[];s[e-1]=NaN;for(let o=e;o<a;++o)s.push(t[o]-t[o-e]);return s}msw(t,e,a=t.length){const s=[],o=[];s[e-1]=NaN,o[e-1]=NaN;const n=3.1415926,l=2*n;let r,i,c,h,u=0;for(let p=e;p<a;++p){for(i=0,c=0,h=0;h<e;++h)u=t[p-h],i+=Math.cos(l*h/e)*u,c+=Math.sin(l*h/e)*u;r=Math.abs(i)>.001?Math.atan(c/i):l/2*(c<0?-1:1),i<0&&(r+=n),r+=n/2,r<0&&(r+=l),r>l&&(r-=l),s.push(Math.sin(r)),o.push(Math.sin(r+n/4))}return[s,o]}natr(t,e,a,s,o=t.length){const n=[];n[s-2]=NaN;const l=1/s;let r,i=0;i+=t[0]-e[0];for(let o=1;o<s;++o){const s=e[o],n=t[o],l=a[o-1],c=Math.abs(n-l),h=Math.abs(s-l);let u=n-s;c>u&&(u=c),h>u&&(u=h),r=u,i+=r}let c=i/s;n.push(100*c/a[s-1]);for(let i=s;i<o;++i){const s=e[i],o=t[i],h=a[i-1],u=Math.abs(o-h),p=Math.abs(s-h);let d=o-s;u>d&&(d=u),p>d&&(d=p),r=d,c=(r-c)*l+c,n.push(100*c/a[i])}return n}nvi(t,e,a=t.length){const s=[];let o=1e3;s.push(o);for(let n=1;n<a;++n)e[n]<e[n-1]&&(o+=(t[n]-t[n-1])/t[n-1]*o),s.push(o);return s}obv(t,e,a=t.length){const s=[];let o=0;s.push(o);let n=t[0];for(let l=1;l<a;++l)t[l]>n?o+=e[l]:t[l]<n&&(o-=e[l]),n=t[l],s.push(o);return s}ppo(t,e,a,s=t.length){const o=[];o[0]=NaN;const n=2/(e+1),l=2/(a+1);let r=t[0],i=t[0];for(let e=1;e<s;++e){r=(t[e]-r)*n+r,i=(t[e]-i)*l+i;const a=100*(r-i)/i;o.push(a)}return o}psar(t,e,a,s,o=t.length){const n=[];let l,r,i;n[0]=NaN,l=t[0]+e[0]<=t[1]+e[1]?1:0,l?(i=t[0],r=e[0]):(i=e[0],r=t[0]);let c=a;for(let h=1;h<o;++h)r=(i-r)*c+r,l?(h>=2&&r>e[h-2]&&(r=e[h-2]),r>e[h-1]&&(r=e[h-1]),c<s&&t[h]>i&&(c+=a,c>s&&(c=s)),t[h]>i&&(i=t[h])):(h>=2&&r<t[h-2]&&(r=t[h-2]),r<t[h-1]&&(r=t[h-1]),c<s&&e[h]<i&&(c+=a,c>s&&(c=s)),e[h]<i&&(i=e[h])),(l&&e[h]<r||!l&&t[h]>r)&&(c=a,r=i,l=!l,i=l?t[h]:e[h]),n.push(r);return n}pvi(t,e,a=t.length){const s=[];let o=1e3;s.push(o);for(let n=1;n<a;++n)e[n]>e[n-1]&&(o+=(t[n]-t[n-1])/t[n-1]*o),s.push(o);return s}qstick(t,e,a,s=e.length){const o=[];o[a-1]=NaN;const n=1/a;let l,r=0;for(l=0;l<a;++l)r+=e[l]-t[l];for(o.push(r*n),l=a;l<s;++l)r+=e[l]-t[l],r-=e[l-a]-t[l-a],o.push(r*n);return o}roc(t,e,a=t.length){const s=[];s[e-1]=NaN;for(let o=e;o<a;++o)s.push((t[o]-t[o-e])/t[o-e]);return s}rocr(t,e,a=t.length){const s=[];s[e-1]=NaN;for(let o=e;o<a;++o)s.push(t[o]/t[o-e]);return s}rsi(t,e,a=t.length){const s=[];s[e-1]=NaN;const o=1/e;let n=0,l=0;for(let a=1;a<=e;++a)n+=t[a]>t[a-1]?t[a]-t[a-1]:0,l+=t[a]<t[a-1]?t[a-1]-t[a]:0;n/=e,l/=e,s.push(n/(n+l)*100);for(let r=e+1;r<a;++r)n=((t[r]>t[r-1]?t[r]-t[r-1]:0)-n)*o+n,l=((t[r]<t[r-1]?t[r-1]-t[r]:0)-l)*o+l,s.push(n/(n+l)*100);return s}sma(t,e,a=t.length){const s=[];s[e-2]=NaN;const o=1/e;let n=0;for(let a=0;a<e;++a)n+=t[a];s.push(n*o);for(let l=e;l<a;++l)n+=t[l],n-=t[l-e],s.push(n*o);return s}stddev(t,e,a=t.length){const s=[];s[e-2]=NaN;const o=1/e;let n=0,l=0;for(let a=0;a<e;++a)n+=t[a],l+=t[a]*t[a];let r=l*o-n*o*(n*o);r>0&&(r=Math.sqrt(r)),s.push(r);for(let r=e;r<a;++r){n+=t[r],l+=t[r]*t[r],n-=t[r-e],l-=t[r-e]*t[r-e];let a=l*o-n*o*(n*o);a>0&&(a=Math.sqrt(a)),s.push(a)}return s}stderr(t,e,a=t.length){const s=[];s[e-2]=NaN;const o=1/e;let n=0,l=0;const r=1/Math.sqrt(e);for(let a=0;a<e;++a)n+=t[a],l+=t[a]*t[a];let i=l*o-n*o*(n*o);i>0&&(i=Math.sqrt(i)),s.push(r*i);for(let i=e;i<a;++i){n+=t[i],l+=t[i]*t[i],n-=t[i-e],l-=t[i-e]*t[i-e];let a=l*o-n*o*(n*o);a>0&&(a=Math.sqrt(a)),s.push(r*a)}return s}stoch(t,e,a,s,o,n,l=t.length){const r=1/o,i=1/n,c=[],h=[];c[s+o+n-3-1]=NaN,h[s+o+n-3-1]=NaN;let u,p=0,d=-1,g=-1,m=t[0],x=e[0];const f={size:o,index:0,pushes:0,sum:0,vals:[]},b={size:n,index:0,pushes:0,sum:0,vals:[]};let y;for(let v=0;v<l;++v){if(v>=s&&++p,u=t[v],d<p)for(d=p,m=t[d],y=p;++y<=v;)u=t[y],u>=m&&(m=u,d=y);else u>=m&&(d=v,m=u);if(u=e[v],g<p)for(g=p,x=e[g],y=p;++y<=v;)u=e[y],u<=x&&(x=u,g=y);else u<=x&&(g=v,x=u);const l=m-x,w=0==l?0:(a[v]-x)/l*100;if(f.pushes>=f.size&&(f.sum-=f.vals[f.index]),f.sum+=w,f.vals[f.index]=w,f.pushes+=1,f.index=f.index+1,f.index>=f.size&&(f.index=0),v>=s-1+o-1){const t=f.sum*r;b.pushes>=b.size&&(b.sum-=b.vals[b.index]),b.sum+=t,b.vals[b.index]=t,b.pushes+=1,b.index=b.index+1,b.index>=b.size&&(b.index=0),v>=s-1+o-1+n-1&&(c.push(t),h.push(b.sum*i))}}return[c,h]}stochrsi(t,e,a=t.length){const s=[];s[2*e-2]=NaN;const o=1/e,n={size:e,index:0,pushes:0,sum:0,vals:[]};let l=0,r=0;for(let a=1;a<=e;++a)l+=t[a]>t[a-1]?t[a]-t[a-1]:0,r+=t[a]<t[a-1]?t[a-1]-t[a]:0;l/=e,r/=e;let i=l/(l+r)*100;n.pushes>=n.size&&(n.sum-=n.vals[n.index]),n.sum+=i,n.vals[n.index]=i,n.pushes+=1,n.index=n.index+1,n.index>=n.size&&(n.index=0);let c=i,h=i,u=0,p=0;for(let d=e+1;d<a;++d){if(l=((t[d]>t[d-1]?t[d]-t[d-1]:0)-l)*o+l,r=((t[d]<t[d-1]?t[d-1]-t[d]:0)-r)*o+r,i=l/(l+r)*100,i>h)h=i,p=n.index;else if(p==n.index){h=i;for(let t=0;t<n.size;++t)t!=n.index&&n.vals[t]>h&&(h=n.vals[t],p=t)}if(i<c)c=i,u=n.index;else if(u==n.index){c=i;for(let t=0;t<n.size;++t)t!=n.index&&n.vals[t]<c&&(c=n.vals[t],u=t)}if(n.vals[n.index]=i,n.index=n.index+1,n.index>=n.size&&(n.index=0),d>2*e-2){const t=h-c;0==t?s.push(0):s.push((i-c)/t)}}return s}sum(t,e,a=t.length){const s=[];s[e-2]=NaN;let o=0;for(let a=0;a<e;++a)o+=t[a];s.push(o);for(let n=e;n<a;++n)o+=t[n],o-=t[n-e],s.push(o);return s}tema(t,e,a=t.length){const s=[];s[3*(e-1)-1]=NaN;const o=2/(e+1),n=1-o;let l=t[0],r=0,i=0;for(let c=0;c<a;++c)l=l*n+t[c]*o,c==e-1&&(r=l),c>=e-1&&(r=r*n+l*o,c==2*(e-1)&&(i=r),c>=2*(e-1)&&(i=i*n+r*o,c>=3*(e-1)&&s.push(3*l-3*r+i)));return s}tr(t,e,a,s=t.length){const o=[];let n;o[0]=t[0]-e[0];for(let l=1;l<s;++l){const s=e[l],r=t[l],i=a[l-1],c=Math.abs(r-i),h=Math.abs(s-i);let u=r-s;c>u&&(u=c),h>u&&(u=h),n=u,o.push(n)}return o}trima(t,e,a=t.length){const s=[];s[e-2]=NaN;const o=1/(e%2?(e/2+1)*(e/2+1):e/2*(e/2+1));let n=0,l=0,r=0;const i=e%2?e/2:e/2-1,c=i+1;let h=1;for(let a=0;a<e-1;++a)n+=t[a]*h,a+1>e-i&&(l+=t[a]),a+1<=c&&(r+=t[a]),a+1<c&&++h,a+1>=e-i&&--h;let u=e-1-i+1,p=e-1-e+1+c,d=e-1-e+1;for(let i=e-1;i<a;++i)n+=t[i],s.push(n*o),l+=t[i],n+=l,n-=r,l-=t[u++],r+=t[p++],r-=t[d++];return s}trix(t,e,a=t.length){const s=[];s[3*(e-1)+1-1]=NaN;const o=3*e-2,n=2/(e+1);let l=t[0],r=0,i=0;for(let a=1;a<o;++a)l=(t[a]-l)*n+l,a==e-1?r=l:a>e-1&&(r=(l-r)*n+r,a==2*e-2?i=r:a>2*e-2&&(i=(r-i)*n+i));for(let e=o;e<a;++e){l=(t[e]-l)*n+l,r=(l-r)*n+r;const a=i;i=(r-i)*n+i,s.push((i-a)/i*100)}return s}tsf(t,e,a=t.length){const s=[];s[e-2]=NaN;let o=0,n=0,l=0,r=0;const i=1/e;for(let a=0;a<e-1;++a)o+=a+1,n+=(a+1)*(a+1),r+=t[a]*(a+1),l+=t[a];o+=e,n+=e*e;const c=1/(e*n-o*o);for(let n=e-1;n<a;++n){r+=t[n]*e,l+=t[n];const a=(e*r-o*l)*c,h=(l-a*o)*i;s.push(h+a*(e+1)),r-=l,l-=t[n-e+1]}return s}typprice(t,e,a,s=t.length){const o=[];for(let n=0;n<s;++n)o.push((t[n]+e[n]+a[n])*(1/3));return o}ultosc(t,e,a,s,o,n,l=t.length){const r=[];r[n-1]=NaN;const i={size:n,index:0,pushes:0,sum:0,vals:[]},c={size:n,index:0,pushes:0,sum:0,vals:[]};let h=0,u=0,p=0,d=0;for(let g=1;g<l;++g){const l=e[g]<a[g-1]?e[g]:a[g-1],m=t[g]>a[g-1]?t[g]:a[g-1],x=a[g]-l,f=m-l;if(h+=x,u+=x,p+=f,d+=f,i.pushes>=i.size&&(i.sum-=i.vals[i.index]),i.sum+=x,i.vals[i.index]=x,i.pushes+=1,i.index=i.index+1,i.index>=i.size&&(i.index=0),c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=f,c.vals[c.index]=f,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0),g>s){let t=i.index-s-1;if(t<0&&(t+=n),h-=i.vals[t],p-=c.vals[t],g>o){let t=i.index-o-1;t<0&&(t+=n),u-=i.vals[t],d-=c.vals[t]}}if(g>=n){const t=100*(4*h/p+2*u/d+1*i.sum/c.sum)/7;r.push(t)}}return r}var(t,e,a=t.length){const s=[];s[e-2]=NaN;const o=1/e;let n=0,l=0;for(let a=0;a<e;++a)n+=t[a],l+=t[a]*t[a];s.push(l*o-n*o*(n*o));for(let r=e;r<a;++r)n+=t[r],l+=t[r]*t[r],n-=t[r-e],l-=t[r-e]*t[r-e],s.push(l*o-n*o*(n*o));return s}vhf(t,e,a=t.length){const s=[];s[e-1]=NaN;let o,n,l,r=1,i=-1,c=-1,h=t[0],u=t[0],p=0,d=t[0];for(let a=1;a<e;++a)n=t[a],p+=Math.abs(n-d),d=n;for(let g=e;g<a;++g,++r){if(n=t[g],p+=Math.abs(n-d),d=n,g>e&&(p-=Math.abs(t[g-e]-t[g-e-1])),o=n,i<r)for(i=r,h=t[i],l=r;++l<=g;)o=t[l],o>=h&&(h=o,i=l);else o>=h&&(i=g,h=o);if(o=n,c<r)for(c=r,u=t[c],l=r;++l<=g;)o=t[l],o<=u&&(u=o,c=l);else o<=u&&(c=g,u=o);s.push(Math.abs(h-u)/p)}return s}vidya(t,e,a,s,o=t.length){const n=[];n[a-3]=NaN;const l=1/e,r=1/a;let i=0,c=0,h=0,u=0;for(let s=0;s<a;++s)h+=t[s],u+=t[s]*t[s],s>=a-e&&(i+=t[s],c+=t[s]*t[s]);let p=t[a-2];if(n.push(p),a-1<o){let e=Math.sqrt(c*l-i*l*(i*l))/Math.sqrt(u*r-h*r*(h*r));e!=e&&(e=0),e*=s,p=(t[a-1]-p)*e+p,n.push(p)}for(let d=a;d<o;++d){h+=t[d],u+=t[d]*t[d],i+=t[d],c+=t[d]*t[d],h-=t[d-a],u-=t[d-a]*t[d-a],i-=t[d-e],c-=t[d-e]*t[d-e];let o=Math.sqrt(c*l-i*l*(i*l))/Math.sqrt(u*r-h*r*(h*r));o!=o&&(o=0),o*=s,p=(t[d]-p)*o+p,n.push(p)}return n}volatility(t,e,a=t.length){const s=[];s[e-1]=NaN;const o=1/e,n=Math.sqrt(252);let l=0,r=0;for(let a=1;a<=e;++a){const e=t[a]/t[a-1]-1;l+=e,r+=e*e}s.push(Math.sqrt(r*o-l*o*(l*o))*n);for(let i=e+1;i<a;++i){const a=t[i]/t[i-1]-1;l+=a,r+=a*a;const c=t[i-e]/t[i-e-1]-1;l-=c,r-=c*c,s.push(Math.sqrt(r*o-l*o*(l*o))*n)}return s}vosc(t,e,a,s=t.length){const o=[];o[a-2]=NaN;const n=1/e,l=1/a;let r=0,i=0;for(let s=0;s<a;++s)s>=a-e&&(r+=t[s]),i+=t[s];const c=r*n,h=i*l;o.push(100*(c-h)/h);for(let c=a;c<s;++c){r+=t[c],r-=t[c-e],i+=t[c],i-=t[c-a];const s=r*n,h=i*l;o.push(100*(s-h)/h)}return o}vwma(t,e,a,s=t.length){const o=[];o[a-2]=NaN;let n=0,l=0;for(let s=0;s<a;++s)n+=t[s]*e[s],l+=e[s];o.push(n/l);for(let r=a;r<s;++r)n+=t[r]*e[r],n-=t[r-a]*e[r-a],l+=e[r],l-=e[r-a],o.push(n/l);return o}wad(t,e,a,s=t.length){const o=[];o[0]=NaN;let n=0,l=a[0];for(let r=1;r<s;++r){const s=a[r];s>l?n+=s-(l<e[r]?l:e[r]):s<l&&(n+=s-(l>t[r]?l:t[r])),o.push(n),l=a[r]}return o}wcprice(t,e,a,s=t.length){const o=[];for(let n=0;n<s;++n)o.push(.25*(t[n]+e[n]+a[n]+a[n]));return o}wilders(t,e,a=t.length){const s=[];s[e-2]=NaN;const o=1/e;let n=0;for(let a=0;a<e;++a)n+=t[a];let l=n/e;s.push(l);for(let n=e;n<a;++n)l=(t[n]-l)*o+l,s.push(l);return s}willr(t,e,a,s,o=t.length){const n=[];n[s-2]=NaN;let l,r,i=0,c=-1,h=-1,u=t[0],p=e[0];for(let d=s-1;d<o;++d,++i){if(l=t[d],c<i)for(c=i,u=t[c],r=i;++r<=d;)l=t[r],l>=u&&(u=l,c=r);else l>=u&&(c=d,u=l);if(l=e[d],h<i)for(h=i,p=e[h],r=i;++r<=d;)l=e[r],l<=p&&(p=l,h=r);else l<=p&&(h=d,p=l);const s=u-p,o=0==s?0:(u-a[d])/s*-100;n.push(o)}return n}wma(t,e,a=t.length){const s=[];s[e-2]=NaN;const o=e*(e+1)/2;let n=0,l=0;for(let a=0;a<e-1;++a)l+=t[a]*(a+1),n+=t[a];for(let r=e-1;r<a;++r)l+=t[r]*e,n+=t[r],s.push(l/o),l-=n,n-=t[r-e+1];return s}zlema(t,e,a=t.length){const s=Math.floor((e-1)/2),o=[];o[(e-2)/2-2]=NaN;const n=2/(e+1);let l,r=t[s-1];for(o.push(r),l=s;l<a;++l){const e=t[l];r=(e+(e-t[l-s])-r)*n+r,o.push(r)}return o}abands(t,e,a,s,o=t.length){const n=[],l=[],r=[];n[s-2]=NaN,l[s-2]=NaN,r[s-2]=NaN;const i=1/s,c={size:s,index:0,pushes:0,sum:0,vals:[]},h={size:s,index:0,pushes:0,sum:0,vals:[]};let u=0;for(let o=0;o<s;++o){const s=4*(t[o]-e[o])/(t[o]+e[o]),n=(1+s)*t[o];c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=n,c.vals[c.index]=n,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0);const l=(1-s)*e[o];h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=l,h.vals[h.index]=l,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0),u+=a[o]}n.push(c.sum*i),l.push(h.sum*i),r.push(u*i);for(let p=s;p<o;++p){const o=4*(t[p]-e[p])/(t[p]+e[p]),d=(1+o)*t[p];c.pushes>=c.size&&(c.sum-=c.vals[c.index]),c.sum+=d,c.vals[c.index]=d,c.pushes+=1,c.index=c.index+1,c.index>=c.size&&(c.index=0);const g=(1-o)*e[p];h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=g,h.vals[h.index]=g,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0),u+=a[p]-a[p-s],n.push(c.sum*i),l.push(h.sum*i),r.push(u*i)}return[n,l,r]}alma(t,e,a,s,o=t.length){const n=[];n[e-2]=NaN;const l=[],r=Math.floor(a*(e-1)),i=e/s;let c=0;for(let t=0;t<e;t++)l[t]=Math.exp(-1*Math.pow(t-r,2)/(2*Math.pow(i,2))),c+=l[t];for(let t=0;t<e;t++)l[t]/=c;for(let a=e-1;a<o;a++){let s=0;for(let o=0;o<e;o++)s+=t[a-e+o+1]*l[o];n.push(s)}return n}ce(t,e,a,s,o,n=t.length){const l=[],r=[];l[s-2]=NaN,r[s-2]=NaN;let i,c,h=t[0]-e[0],u=t[0],p=0,d=e[0],g=0;for(let o=1;o<s;++o){const s=e[o],n=t[o],l=a[o-1],r=Math.abs(n-l),m=Math.abs(s-l);let x=n-s;r>x&&(x=r),m>x&&(x=m),i=x,h+=i,u<=(c=t[o])&&(u=c,p=o),d>=(c=e[o])&&(d=c,g=o)}h/=s;const m=(s-1)/s,x=1/s;l.push(u-o*h),r.push(d+o*h);for(let f=s;f<n;++f){const n=e[f],b=t[f],y=a[f-1],v=Math.abs(b-y),w=Math.abs(n-y);let T=b-n;if(v>T&&(T=v),w>T&&(T=w),i=T,h=h*m+i*x,u<=(c=t[f]))u=c,p=f;else if(p==f-s){u=t[f-s+1],p=f-s+1;for(let e=f-s+2;e<=f;++e)u<=(c=t[e])&&(u=c,p=e)}if(d>=(c=e[f]))d=c,g=f;else if(g==f-s){d=e[f-s+1],g=f-s+1;for(let t=f-s+2;t<=f;++t)d>=(c=e[t])&&(d=c,g=t)}l.push(u-o*h),r.push(d+o*h)}return[l,r]}cmf(t,e,a,s,o,n=t.length){const l=[];l[o-2]=NaN;let r=0,i=0;for(let n=0;n<o-1;++n)i+=t[n]-e[n]?s[n]*(a[n]-e[n]-(t[n]-a[n]))/(t[n]-e[n]):0,r+=s[n];for(let c=o-1;c<n;++c)i+=t[c]-e[c]?s[c]*(a[c]-e[c]-(t[c]-a[c]))/(t[c]-e[c]):0,r+=s[c],l.push(i/r),i-=t[c-o+1]-e[c-o+1]?s[c-o+1]*(a[c-o+1]-e[c-o+1]-(t[c-o+1]-a[c-o+1]))/(t[c-o+1]-e[c-o+1]):0,r-=s[c-o+1];return l}copp(t,e,a){const s=new Array(t.length),o=new Array(t.length),n=new Array(t.length);for(let l=0;l<t.length;l++)s[l]=l<e-1?null:(t[l]-t[l-e])/t[l-e]*100,o[l]=l<a-1?null:(t[l]-t[l-a])/t[l-a]*100,n[l]=10*(s[l]+o[l]);return n}dc(t,e,a){const s=[],o=[],n=[];s[a-2]=NaN,o[a-2]=NaN,n[a-2]=NaN;for(let l=a-1;l<t.length;l++)s.push(Math.max(...t.slice(l-a+1,l+1))),o.push(Math.min(...e.slice(l-a+1,l+1))),n.push((s[s.length-1]+o[o.length-1])/2);return[s,n,o]}fi(t,e,a,s=t.length){const o=[];o[0]=NaN;const n=2/(a+1);let l=e[1]*(t[1]-t[0]);for(let a=1;a<s;++a)l=(e[a]*(t[a]-t[a-1])-l)*n+l,o.push(l);return o}ikhts(){}kc(t,e,a,s,o,n=t.length){const l=[],r=[],i=[],c=2/(s+1);let h=a[0],u=t[0]-e[0];l.push(h-o*u),r.push(h),i.push(h+o*u);let p=0;for(let s=1;s<n;++s){h=(a[s]-h)*c+h;const n=e[s],d=t[s],g=a[s-1],m=Math.abs(d-g),x=Math.abs(n-g);let f=d-n;m>f&&(f=m),x>f&&(f=x),p=f,u=(p-u)*c+u,l.push(h-o*u),r.push(h),i.push(h+o*u)}return[l,r,i]}kst(t,e,a,s,o,n,l,r,i,c=t.length){const h=[],u=[];h[o-1]=NaN,u[o-1]=NaN;let p=n;p<l&&(p=l),p<r&&(p=r),p<i&&(p=i);const d=2/(n+1),g=2/(l+1),m=2/(r+1),x=2/(i+1);function f(e,a){return(t[e]-t[e-a])/t[e-a]}let b=f(e,e),y=f(a,a),v=f(s,s),w=f(o,o);for(let t=e+1;t<o+1&&t<c;++t)b=(f(t,e)-b)*d+b;for(let t=a+1;t<o+1&&t<c;++t)y=(f(t,a)-y)*g+y;for(let t=s+1;t<o+1&&t<c;++t)v=(f(t,s)-v)*m+v;for(let t=o+1;t<o+1&&t<c;++t)w=(f(t,o)-w)*x+w;let T=(1*b+2*y+3*v+4*w)/10;u.push(T);let N=T;h.push(N);for(let t=o+1;t<c;++t)b=(f(t,e)-b)*d+b,y=(f(t,a)-y)*g+y,v=(f(t,s)-v)*m+v,w=(f(t,o)-w)*x+w,T=(1*b+2*y+3*v+4*w)/10,h.push(T),N=.2*(T-N)+N,u.push(N);return[h,u]}mama(){}pbands(t,e,a,s,o=t.length){const n=[],l=[];n[s-2]=NaN,l[s-2]=NaN;let r=0,i=0;const c=s*(s+1)/2,h=s*(s+1)*(2*s+1)/6;let u;for(u=0;u<s;++u)i+=a[u]*(u+1),r+=a[u];--u;const p=(i/s-c/s*r/s)/(h/s-c/s*(c/s));let d=t[u];for(let e=1;e<s;++e)d<t[u-e]+e*p&&(d=t[u-e]+e*p);let g=e[u];for(let t=1;t<s;++t)g>e[u-t]+t*p&&(g=e[u-t]+t*p);for(l.push(d),n.push(g),++u;u<o;++u){i+=-r+a[u]*s,r+=-a[u-s]+a[u];const o=(i/s-c/s*r/s)/(h/s-c/s*(c/s));let p=t[u];for(let e=1;e<s;++e)p<t[u-e]+e*o&&(p=t[u-e]+e*o);let d=e[u];for(let t=1;t<s;++t)d>e[u-t]+t*o&&(d=e[u-t]+t*o);n.push(d),l.push(p)}return[n,l]}pc(){}pfe(t,e,a,s=t.length){const o=[];o[e-1]=NaN;const n=2/(a+1),l={size:e,index:0,pushes:0,sum:0,vals:[]};let r;for(r=1;r<e;++r)l.pushes>=l.size&&(l.sum-=l.vals[l.index]),l.sum+=Math.sqrt(Math.pow(t[r]-t[r-1],2)+1),l.vals[l.index]=Math.sqrt(Math.pow(t[r]-t[r-1],2)+1),l.pushes+=1,l.index=l.index+1,l.index>=l.size&&(l.index=0);l.pushes>=l.size&&(l.sum-=l.vals[l.index]),l.sum+=Math.sqrt(Math.pow(t[r]-t[r-1],2)+1),l.vals[l.index]=Math.sqrt(Math.pow(t[r]-t[r-1],2)+1),l.pushes+=1,l.index=l.index+1,l.index>=l.size&&(l.index=0);let i=100*(t[r]-t[r-e]>0?1:-1)*Math.sqrt(Math.pow(t[r]-t[r-e],2)+100)/l.sum;for(o.push(i),r=e+1;r<s;++r)l.pushes>=l.size&&(l.sum-=l.vals[l.index]),l.sum+=Math.sqrt(Math.pow(t[r]-t[r-1],2)+1),l.vals[l.index]=Math.sqrt(Math.pow(t[r]-t[r-1],2)+1),l.pushes+=1,l.index=l.index+1,l.index>=l.size&&(l.index=0),i=(100*(t[r]-t[r-e]>0?1:-1)*Math.sqrt(Math.pow(t[r]-t[r-e],2)+100)/l.sum-i)*n+i,o.push(i);return o}posc(t,e,a,s,o,n=t.length){const l=[];l[s-2]=NaN;let r,i=0,c=0;const h=s*(s+1)/2,u=s*(s+1)*(2*s+1)/6;let p;for(p=0;p<s;++p)c+=a[p]*(p+1),i+=a[p];--p;const d=(c/s-h/s*i/s)/(u/s-h/s*(h/s));let g=t[p];for(let e=1;e<s;++e)g<t[p-e]+e*d&&(g=t[p-e]+e*d);let m=e[p];for(let t=1;t<s;++t)m>e[p-t]+t*d&&(m=e[p-t]+t*d);for(r=(a[p]-m)/(g-m)*100,l.push(r),++p;p<n;++p){c+=-i+a[p]*s,i+=-a[p-s]+a[p];const n=(c/s-h/s*i/s)/(u/s-h/s*(h/s));let d=t[p];for(let e=1;e<s;++e)d<t[p-e]+e*n&&(d=t[p-e]+e*n);let g=e[p];for(let t=1;t<s;++t)g>e[p-t]+t*n&&(g=e[p-t]+t*n);r=2*((a[p]-g)/(d-g)*100-r)/(1+o)+r,l.push(r)}return l}rmi(t,e,a,s=t.length){const o=[];let n,l;o[a-1]=NaN;let r=a;for(n=0>t[r]-t[r-a]?0:t[r]-t[r-a],l=0>t[r-a]-t[r]?0:t[r-a]-t[r],++r,o.push(n/(n+l)*100);r<s;++r)n=2*(0>t[r]-t[r-a]?0:t[r]-t[r-a]-n)/(1+e)+n,l=2*(0>t[r-a]-t[r]?0:t[r-a]-t[r]-l)/(1+e)+l,o.push(n/(n+l)*100);return o}rmta(t,e,a,s=t.length){const o=[];o[e-2]=NaN;const n=1-a;let l=(1-n)*t[0]+t[0],r=(1-n)*t[0]+n*(t[0]+l);for(let a=1;a<e-1;++a){const e=(1-n)*l+t[a];r=(1-n)*r+n*(t[a]+e-l),l=e}for(let a=e-1;a<s;++a){const e=(1-n)*l+t[a];r=(1-n)*r+n*(t[a]+e-l),l=e,o.push(r)}return o}rvi(t,e,a,s=t.length){const o=[];o[a-2]=NaN;let n=0,l=0;const r=a*(a+1)/2,i=a*(a+1)*(2*a+1)/6;let c=0,h=0,u=0;for(;u<a;++u)l+=t[u]*(u+1),n+=t[u];--u;const p=(l/a-r/a*n/a)/(i/a-r/a*(r/a)),d=n/a-p*r/a,g=t[u]-(d+p*a);for(g>0?c=g*g/a:h=g*g/a,c+h==0?o.push(50):o.push(c/(c+h)*100),++u;u<s;++u){l+=-n+t[u]*a,n+=-t[u-a]+t[u];const s=(l/a-r/a*n/a)/(i/a-r/a*(r/a)),p=n/a-s*r/a,d=t[u]-(p+s*a);d>0?c=2*(d*d/a-c)/(e+1)+c:h=2*(d*d/a-h)/(e+1)+h,c+h==0?o.push(50):o.push(c/(c+h)*100)}return o}smi(t,e,a,s,o,n,l=t.length){const r=[];r[s-2]=NaN;let i=1-s,c=NaN,h=NaN,u=NaN,p=NaN,d=0,g=0,m=0,x=0,f=0,b=0;for(;b<l&&i==1-s;++b,++i)g=t[b],m=i,d=e[b],x=i;for(;b<l&&i<0;++b,++i)g<=t[b]&&(g=t[b],m=i),d>=e[b]&&(d=e[b],x=i);for(;b<l&&0==i;++b,++i)g<=t[b]&&(g=t[b],m=i),d>=e[b]&&(d=e[b],x=i),c=h=a[b]-.5*(g+d),u=p=g-d,r.push(100*h/(.5*p));for(;b<l;++b,++i){if(m==i-s){g=t[b],m=i;for(let e=1;e<s;++e)f=t[b-e],f>g&&(g=f,m=i-e)}else g<=t[b]&&(g=t[b],m=i);if(x==i-s){d=e[b],x=i;for(let t=1;t<s;++t)f=e[b-t],f<d&&(d=f,x=i-t)}else d>=e[b]&&(d=e[b],x=i);c=(a[b]-.5*(g+d)-c)*(2/(1+o))+c,h=2/(1+n)*(c-h)+h,u=2/(1+o)*(g-d-u)+u,p=2/(1+n)*(u-p)+p,r.push(100*h/(.5*p))}return r}tsi(t,e,a,s=t.length){const o=[];o[0]=NaN;let n=-1,l=0,r=0,i=0,c=0,h=0,u=0;for(;u<s&&-1==n;++u,++n)l=t[u];for(;u<s&&0==n;++u,++n)i=r=t[u]-l,h=c=Math.abs(t[u]-l),o.push(100*(h?i/h:0)),l=t[u];for(;u<s;++u,++n)r=2*(t[u]-l-r)/(1+e)+r,c=2*(Math.abs(t[u]-l)-c)/(1+e)+c,i=2*(r-i)/(1+a)+i,h=2*(c-h)/(1+a)+h,o.push(100*(h?i/h:0)),l=t[u];return o}vwap(t,e,a,s,o,n=t.length){const l=[];l[o-2]=NaN;let r=1-o,i=0,c=0,h=0;for(;h<n&&r<1;++h,++r)i+=(t[h]+e[h]+a[h])/3*s[h],c+=s[h];for(h>0&&1==r&&l.push(i/c);h<n;++h,++r)i+=(t[h]+e[h]+a[h])/3*s[h]-(t[h-o]+e[h-o]+a[h-o])/3*s[h-o],c+=s[h]-s[h-o],l.push(i/c);return l}}},717:(t,e,a)=>{a.d(e,{f:()=>s});class s{constructor(t){this.size=t,this.pushes=0,this.index=0,this.sum=0,this.vals=[]}static new(t){return new s(t)}push(t){this.pushes>=this.size&&(this.sum-=this.vals[this.index]),this.sum+=t,this.vals[this.index]=t,this.pushes+=1,this.index=(this.index+1)%this.size}qpush(t){this.vals[this.index]=t,this.index=(this.index+1)%this.size}get(t){return this.vals[(this.index+this.size-1+t)%this.size]}}},67:(t,e,a)=>{a.d(e,{bp:()=>s.b}),a(949),a(56);var s=a(871)},319:(t,e,a)=>{function s(t,e,a,s=!0){return t.filter((t=>s?t[e].includes(a):!t[e].includes(a)))}function o(t,e,a){return t.some((t=>t[e]===a))}a.d(e,{A:()=>l});class n{constructor(){this.data=null,this.previouslow=0,this.previoushigh=0,this.previouspoint="B",this.reqdnmove=0,this.requpmove=0,this.lasthighpoint={},this.lastlowpoint={},this.currentminind=0,this.currentmaxind=0,this.currentcdmin=0,this.currentcdmax=0,this.zigdata={gpoint:[]},this.upsidecount=1,this.downsidecount=1,this.permitmove=1e-4}static getInstance(){return n.instance||(n.instance=new n),n.instance}attachOHLCV(t){this.data=t}zdata(){let t=this.data;const e=[];if(t&&0===t.length)return e;var a=JSON.parse(JSON.stringify(t));const s=[];for(let t=0;t<a.length;t++){var o=0+t;a[t].orgindex=o,s.push(a[t])}for(let t=0;t<s.length;t++){var n=s[t];0==t&&(this.zigdata.gpoint=[{index:t,ind:"B"}],this.previouslow=n.low,this.previoushigh=n.high,this.previouspoint="B",this.reqdnmove=s[0].low-(s[0].high-s[0].low),this.requpmove=s[0].high+(s[0].high-s[0].low),this.lasthighpoint=s[0],this.lastlowpoint=s[0],this.currentminind=s[0].low,this.currentmaxind=s[0].high,this.currentcdmin=s[0].low,this.currentcdmax=s[0].high),0!==t&&(n.high>this.currentcdmax&&n.low>this.currentcdmin?(this.currentcdmin=n.low,this.currentcdmax=n.high,this.up_move(t,n,this.zigdata,s,this.requpmove,this.lastlowpoint)):n.high<this.currentcdmax&&n.low<this.currentcdmin?(this.currentcdmin=n.low,this.currentcdmax=n.high,this.down_move(t,n,this.zigdata,s,this.reqdnmove,this.lasthighpoint)):n.high>this.currentcdmax&&n.low<this.currentcdmin&&("HS"==this.previouspoint&&(this.currentcdmin=n.low,this.currentcdmax=n.high,this.up_move(t,n,this.zigdata,s,this.requpmove,this.lastlowpoint)),"LS"==this.previouspoint&&(this.currentcdmin=n.low,this.currentcdmax=n.high,this.down_move(t,n,this.zigdata,s,this.reqdnmove,this.lasthighpoint))))}if(this.zigdata.gpoint.map(((t,a)=>{var o=s[t.index];o.zigind=t.ind,o.orgindex=t.index,e.push(o)})),a.slice(-1)[0].timestamp>e.slice(-1)[0].timestamp){var l={timestamp:a.slice(-1)[0].timestamp,time:a.slice(-1)[0].time,zigind:"E",orgindex:a.length,high:"LS"==e.slice(-1)[0].zigind?e.slice(-1)[0].low:e.slice(-1)[0].high,low:e.slice(-1)[0].low,open:e.slice(-1)[0].open,close:e.slice(-1)[0].close,volume:e.slice(-1)[0].volume};e.push(l)}return e}up_move(t,e,a,s,o,n){var l,r;if(a.gpoint.length>1)var i=(null===(l=a.gpoint[a.gpoint.length-1])||void 0===l?void 0:l.index)||0;else i=0;var c=s.slice(i,t+1);let h=Math.max(...c.map((t=>t.high)));this.upsidecount>=2||"HS"==this.previouspoint?e.high>o&&e.high>=h&&("HS"==(null===(r=a.gpoint.at(-1))||void 0===r?void 0:r.ind)&&a.gpoint.pop(),"HS"==this.previouspoint&&(this.downsidecount=1),this.upsidecount=1,this.previouspoint="HS",a.gpoint=[...a.gpoint,{index:t,ind:"HS"}],this.get_newmove(n,t,s,1),this.lasthighpoint=s[t],this.currentmaxind=e.high):e.high>=h&&(this.upsidecount=this.upsidecount+1,this.currentmaxind=e.high)}down_move(t,e,a,s,o,n){var l,r;if(a.gpoint.length>1)var i=(null===(l=a.gpoint[a.gpoint.length-1])||void 0===l?void 0:l.index)||0;else i=0;var c=s.slice(i,t+1);let h=Math.min(...c.map((t=>t.low)));this.downsidecount>=2||"LS"==this.previouspoint?e.low<o&&e.low<s[i].low&&("LS"==(null===(r=a.gpoint[a.gpoint.length-1])||void 0===r?void 0:r.ind)&&a.gpoint.pop(),"LS"==this.previouspoint&&(this.upsidecount=1),this.downsidecount=1,this.previouspoint="LS",a.gpoint=[...a.gpoint,{index:t,ind:"LS"}],this.get_newmove(n,t,s,-1),this.lastlowpoint=s[t],this.currentminind=e.low):e.low<=h&&(this.downsidecount=this.downsidecount+1,this.currentminind=e.low)}get_newmove(t,e,a,s){var o=-1==s?t.high:t.low,n=-1==s?a[e].low:a[e].high,l=Math.abs(o-n);-1==s&&(this.requpmove=n+l*this.permitmove),1==s&&(this.reqdnmove=n-l*this.permitmove)}calculateEffortMetric(t,e,a,s,o){let n=0,l=0;const r=e+a/100*e,i=e-a/100*e;for(const a of t){const t=a.timestamp;if(a.high<=r&&a.high>=i)n++,l+=(a.high>=e&&a.close>e||a.high>=e&&a.close<=e?1:(a.high-i)/(e-i))*(1-(o-t)/(o-s));else if(a.high>r){l=0;break}}return{totalWeight:l,numAttempts:n}}getbreakouttrength({breakoutdetails:t,stockdata:e}){const a=t.latestbreakobj.broutfor,s=t.latestbreakobj.broutat,o=t.latestbreakobj.highatref,n={},l=e.filter((t=>{const e=t.timestamp;return e>a&&e<s}));return[.2,.5,1,3,5,8,10].forEach((t=>{const e=this.calculateEffortMetric(l,o,t,a,s);n[t]=e})),n}getbreakout({stockdata:t,zigdata:e,refpoint:a,lowpointfilter:s,getlatestbreakout:o}){var n=s.find((t=>t>a)),l=t[a].high;let r=NaN;var i={broutfor:NaN,broutat:NaN,rejectat:NaN,brekoutcandleago:NaN,breakoutperiod:NaN,breakoutpercentage:NaN,highatref:NaN,highatrejec:NaN,highatbr:NaN,closeatbr:NaN};for(let e=n;e<t.length;e++){const s=t[e].high,n=t[e].close;if(s>l&&n<l&&(l=s,r=e),n>l){let l=isNaN(r)?t[a].high:t[r].high;return i={broutfor:a,broutat:e,rejectat:isNaN(r)?a:r,brekoutcandleago:o.laststockindex+1-e,highatref:t[a].high,highatrejec:l,highatbr:s,closeatbr:n,breakoutperiod:e-a,breakoutpercentage:(n-l)/l*100},e>o.latestbrindex?(o.latestbrindex=e,o.breakoutperiod=e-a,o.latestbreakobj={broutfor:t[a].timestamp,broutat:t[e].timestamp,rejectat:isNaN(r)?t[a].timestamp:t[r].timestamp,brekoutcandleago:o.laststockindex+1-e,highatref:t[a].high,highatrejec:l,highatbr:s,closeatbr:n,breakoutperiod:e-a,breakoutpercentage:(n-l)/l*100}):e===o.latestbrindex&&e-a>o.breakoutperiod&&(o.breakoutperiod=e-a,o.latestbreakobj={broutfor:t[a].timestamp,broutat:t[e].timestamp,rejectat:isNaN(r)?t[a].timestamp:t[r].timestamp,brekoutcandleago:o.laststockindex+1-e,highatref:t[a].high,highatrejec:l,highatbr:s,closeatbr:n,breakoutperiod:e-a,breakoutpercentage:(n-l)/l*100}),i}}return i}fullbrtable({stockdata:t,zigdata:e}){const a=s(e,"zigind","HS",!0).map((t=>t.orgindex)),n=s(e,"zigind","LS",!0).map((t=>t.orgindex)),l=[],r={latestbrindex:-1,breakoutperiod:0,latestbreakobj:{broutfor:NaN,broutat:NaN,rejectat:NaN,brekoutcandleago:NaN,highatref:NaN,highatrejec:NaN,highatbr:NaN,closeatbr:NaN,breakoutperiod:NaN,breakoutpercentage:NaN},laststockindex:t.length-1};for(let s=0;s<a.length;s++){const i=a[s];if(!o(l,"rejectat",i)){const a=this.getbreakout({stockdata:t,zigdata:e,refpoint:i,lowpointfilter:n,getlatestbreakout:r});a&&l.push(a)}}return{FullBRDATA:l,latestbreakout:r,breakStrength:{}}}nearbrtable({stockdata:t,zigdata:e}){let a;"HS"==e[e.length-1].zigind&&e.splice(-1);var o=t.slice(-1),n=s(e,"zigind","HS",!0).map((t=>t.orgindex)),l=o[0].close,r=o[0].timestamp,i=n.filter((e=>t[e].high>l)).slice(-1);if(i.length>0){var c=i[0],h=t[c].high,u=(h-l)/h*100,p=Math.round(1e3*u)/1e3,d=t.length-1-c;a={pricetobebreak:h,lastclose:l,laginprct:p,candeldistance:d,tobebreakcandelid:c,timestamp:r}}else a={pricetobebreak:-1,lastclose:-1,laginprct:-1,candeldistance:-1,tobebreakcandelid:-1,timestamp:r};return a}nearbreakdown({stockdata:t,zigdata:e}){var a=t.slice(-1),o=a[0].close,n=a[0].timestamp;let l;"LS"==e[e.length-1].zigind&&e.splice(-1);var r=s(e,"zigind","LS",!0).map((t=>t.orgindex)).filter((e=>t[e].low<o)).slice(-1);if(r.length>0){var i=r[0],c=t[i].low,h=(o-c)/c*100,u=Math.round(1e3*h)/1e3,p=t.length-1-i;l={pricetobebreakdown:c,lastclose:o,laginprct:u,candeldistance:p,tobebreakcandelid:i,timestamp:n}}else l={pricetobebreakdown:-1,lastclose:-1,laginprct:-1,candeldistance:-1,tobebreakcandelid:-1,timestamp:n};return l}zseries(){let t=this.data,e=this.zdata().map((({time:t,zigind:e,low:a,high:s,orgindex:o})=>({time:t,orgindex:o,value:"LS"==e?a:s,zigind:e,zigType:""})));for(let t=2;t<e.length-1;t++){const a=e[t].value,s=Math.max(e[t-1].value,e[t-2].value),o=Math.min(e[t-1].value,e[t-2].value);a>s?e[t].zigType="HH":a<o?e[t].zigType="LL":a>e[t-1].value?e[t].zigType="LH":e[t].zigType="HL"}const a=e.length-1;var s=0;if(a>=6){const t=[e[a-5].zigType,e[a-4].zigType,e[a-3].zigType,e[a-2].zigType,e[a-1].zigType].join("-");if("HL-LH-HL-LH-HL"===t){const t=e[a-2].value,o=e[a-4].value;Math.abs(t-o)/t*100<1&&(s=1)}else if("HL-HH-HL-HH-HL"===t){const t=e[a-2].value,o=e[a-4].value;Math.abs(t-o)/t*100<1&&(s=1)}else if("LH-HL-HH-HL-HH"===t){const t=e[a-1].value,o=e[a-3].value;Math.abs(t-o)/t*100<1&&(s=1)}}const o=this.fullbrtable({stockdata:t,zigdata:[...e]}),n=this.nearbrtable({stockdata:t,zigdata:[...e]}),l=this.nearbreakdown({stockdata:t,zigdata:[...e]});return{sublist:e,brlist:o.FullBRDATA,lastbreakout:o.latestbreakout,tobebreakdata:n,tobebreakdowndata:l,breakStrenth:o.breakStrength,Tr_patternMark:s}}}n.instance=null;const l=n},540:(t,e,a)=>{a.d(e,{A:()=>r});var s=a(67),o=a(319);let n=new s.bp;class l{constructor(){this.ohlcv=null,this.zigProcessor=o.A.getInstance()}static getInstance(){return l.instance||(l.instance=new l),l.instance}attachOHLCV(t){this.ohlcv=t,this.zigProcessor.attachOHLCV(t.map((t=>Object.assign(Object.assign({},t),{time:t.timestamp}))))}calculateSMA(t,e){if(!this.ohlcv)throw new Error("OHLCV data has not been attached.");if("string"==typeof t){const a=this.ohlcv.map((e=>e[t]));return n.sma(a,e)}if(Array.isArray(t))return n.sma(t,e);throw new Error("Invalid data format. Expecting string or number[].")}calculateEMA(t,e){if(!this.ohlcv)throw new Error("OHLCV data has not been attached.");if("string"==typeof t){const a=this.ohlcv.map((e=>e[t]));return n.ema(a,e)}if(Array.isArray(t))return n.ema(t,e);throw new Error("Invalid data format. Expecting string or number[].")}calculateRSI(t,e){if(!this.ohlcv)throw new Error("OHLCV data has not been attached.");if("string"==typeof t){const a=this.ohlcv.map((e=>e[t]));return n.rsi(a,e)}if(Array.isArray(t))return n.rsi(t,e);throw new Error("Invalid data format. Expecting string or number[].")}calculateADX(t){if(!this.ohlcv)throw new Error("OHLCV data has not been attached.");const e=this.ohlcv.map((t=>t.high)),a=this.ohlcv.map((t=>t.low)),s=n.adx(e,a,t),o=n.dm(e,a,t);return{adx:s,dmp:o[0],dmn:o[1]}}calculateZizZag(){if(!this.ohlcv)throw new Error("OHLCV data has not been attached.");const t=this.zigProcessor.zseries();return{sublist:t.sublist.map((({orgindex:t,value:e})=>({orgindex:t,value:e}))),tobebreakdata:t.tobebreakdata?{tobebreakcandelid:t.tobebreakdata.tobebreakcandelid,pricetobebreak:t.tobebreakdata.pricetobebreak}:void 0,tobebreakdowndata:t.tobebreakdowndata?{tobebreakcandelid:t.tobebreakdowndata.tobebreakcandelid,pricetobebreakdown:t.tobebreakdowndata.pricetobebreakdown}:void 0,brlist:t.brlist.filter((({broutfor:t})=>!isNaN(t))).map((({rejectat:t,broutfor:e,broutat:a,highatref:s,highatrejec:o,breakoutperiod:n})=>({rejectat:t,broutfor:e,broutat:a,highatref:s,highatrejec:o,breakoutperiod:n})))}}}l.instance=null;const r=l},507:(e,a,s)=>{var o,n;e.exports=(o={axisBottom:()=>t.axisBottom,axisLeft:()=>t.axisLeft,axisRight:()=>t.axisRight,axisTop:()=>t.axisTop,extent:()=>t.extent,line:()=>t.line,max:()=>t.max,min:()=>t.min,pointer:()=>t.pointer,scaleBand:()=>t.scaleBand,scaleLinear:()=>t.scaleLinear,scaleTime:()=>t.scaleTime,select:()=>t.select,selectAll:()=>t.selectAll,timeFormat:()=>t.timeFormat,timeParse:()=>t.timeParse,zoom:()=>t.zoom,zoomIdentity:()=>t.zoomIdentity},n={},s.d(n,o),n)}},a={};function s(t){var o=a[t];if(void 0!==o)return o.exports;var n=a[t]={exports:{}};return e[t](n,n.exports,s),n.exports}s.d=(t,e)=>{for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o={};(()=>{s.d(o,{A:()=>g});var t=s(394),e=s(899),a=s(507),n=s(287),l=s(470),r=s(126),i=s(205),c=s(929),h=s(988),u=s(220),p=s(628),d=s(449);const g=class{constructor(s,o,n){var i,u;this.zoomX=a.zoom().scaleExtent([.5,70]).on("zoom",this.zoomedX.bind(this)),this.zoomY=a.zoom().scaleExtent([.5,4]).on("zoom",this.zoomedY.bind(this)),t.A.getInstance(null!==(i=null==n?void 0:n.divWidth)&&void 0!==i?i:1600,null!==(u=null==n?void 0:n.divHeight)&&void 0!==u?u:800,{targetID:o}),(0,r.rG)((0,e.P)(s)),(0,c.B)(),(0,h.SA)(),(0,h.Pr)(),(0,h.v0)(),this.livefunction=n.liveFunction,this.SVGClass=l.A.getInstance(),this.svg=this.SVGClass.svg,this.SVGClass.createYaxiseventArea(this.zoomY),this.BackGroup=this.SVGClass.BackGroup,this.FrontGroup=this.SVGClass.FrontGroup,this.ResetButton=this.SVGClass.ResetButton,this.BackChartGroup=this.SVGClass.BackChartGroup,this.Buttonpanel=this.SVGClass.createbuttonpanel(this.buttonClick.bind(this),11,r._w),this.SVGClass.createTooltipArea(),this.ToolTipArea=this.SVGClass.ToolTipArea,this.FrontGroup.call(this.zoomX),this.FrontGroup.onEvent1("mousemove",(t=>{this.mousemovevent(t)})),this.FrontGroup.onEvent1("mouseout",(t=>{this.mouseoutvent()})),(0,h.TC)(this.BackGroup,this.FrontGroup),this.rendorPlot(),this.ResetButton.onEvent1("click",(t=>{this.resetplot()}))}zoomedX(t){const[e,s]=a.pointer(t);this.rendorAxis(),this.rendorPlot(),this.handleTooltipAndCrosshair(e,s)}zoomedY(t){const[,e]=a.pointer(t);(0,h.$2)(this.BackGroup,this.svg,e),this.rendorPlot()}buttonClick(t,e,a){"liverubfn"==t&&this.livefunction&&this.livefunction(),(0,r.FA)(t).map((t=>{i.A[t].plotStatus=a})),this.SVGClass.createYaxiseventArea(this.zoomY),this.SVGClass.createTooltipArea(),this.rendorAxis(),this.rendorPlot()}rendorAxis(){(0,h.Wi)(this.BackGroup,this.FrontGroup),(0,h.$2)(this.BackGroup,this.svg)}isMouseInsideFrontGroup(t,e){var a;const s=null===(a=this.FrontGroup.node())||void 0===a?void 0:a.getBoundingClientRect();return console.log(s),s&&t>=s.left&&t<=s.right&&e>=s.top&&e<=s.bottom}mouseoutvent(){this.svg.selectAll(".tooltip").style("display","none"),this.BackGroup.selectAll(".crosshair").style("display","none")}mousemovevent(t){const[e,s]=a.pointer(t);this.handleTooltipAndCrosshair(e,s)}handleTooltipAndCrosshair(t,e){var a;this.svg.selectAll(".tooltip").style("display","block"),this.BackGroup.selectAll(".crosshair").style("display","block");const s="bot",o=this.FrontGroup.property("__zoom").rescaleX(r.jx[s].xscale().XSCALE),n=o.invert(t),l=Math.round(n)<0?0:Math.round(n)>r.Gi[r.jx[s].xscaleDataTag].length-1?r.Gi[r.jx[s].xscaleDataTag].length-1:Math.round(n),i=(0,r.Kj)(e);let c="";if(i){const t=r.Mr[i].yscaleTag;c=null===(a=r.Yh[t[0]].yscale().YSCALE)||void 0===a?void 0:a.invert(e).toFixed(2)}(0,p.sx)(this.svg,l),(0,d.F)({BackGroup:this.BackGroup,index:l,y:e,valuestring:c,currentXscale:o})}rendorPlot(){this.getclippath(),(0,u.v)(this.BackGroup,this.FrontGroup,this.AxisYGroup)}resetplot(){this.FrontGroup.call(this.zoomX.transform,a.zoomIdentity),Array.from(r.Aw.yscaleTag).map((t=>{const e=r.Yh[t];this.svg.select(`.yzoom-${e.yaxisTag}`).call(this.zoomY.transform,a.zoomIdentity),(0,r.rk)(e.yscaleTag,{yzoomtransform:a.zoomIdentity})})),this.rendorAxis(),this.rendorPlot()}getclippath(){this.svg.selectAll(".clipplot").remove(),Array.from(r.Aw.yaxisTag).map((t=>{const{range:e}=r.Mr[t];(0,n.Ip)(this.svg,`clip-${t}`,r.dO.margin.left+r.dO.margin.innerLeft,e[1],r.dO.width+r.dO.margin.innerRight,e[0]-e[1])}))}updatechart(t){(0,r.rG)((0,e.P)(t)),this.rendorAxis(),this.rendorPlot()}}})();var n=o.A;export{n as default};