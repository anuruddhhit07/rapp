import*as a from"d3";var t={126:(a,t,e)=>{e.d(t,{Kw:()=>b,Os:()=>d,TW:()=>S,Vn:()=>v,Y2:()=>u,bx:()=>R,cc:()=>z,cu:()=>f,ho:()=>D,j:()=>O,mb:()=>g,v$:()=>h});var o=e(507),l=e(625);let s=l.O1,n=l.xZ,i={},c={},g={},p={},r={},x={plotName:new Set,xscaleTag:new Set,yscaleTag:new Set,yaxisTag:new Set},T={};function u(a,t,e){1==e?T={}:T.hasOwnProperty(a)?T[a]=Object.assign(Object.assign({},T[a]),t):T[a]=Object.assign({range:[0,0],plotname:[],yscaleTag:[]},t)}function d(){const a={};for(const t in g)if(g.hasOwnProperty(t)){const e=g[t];if(e.plotStatus){const t=e.yscaleTag;if(t in c){const o=c[t].yaxisTag;a[o]||(a[o]={plotName:[],yscaleTag:[]}),a[o].plotName.push(e.plotName),a[o].yscaleTag.includes(t)||a[o].yscaleTag.push(t)}}}return a}function y(){let a=[];if(this.xsaleType="Linear"){const t=s[this.xscaleDataTag].length;a=o.extent([0,t])}else a=o.extent(s[this.xscaleDataTag]);const t="Linear"==this.xsaleType?o.scaleLinear().range(this.xscaleRange).domain(a):"TimeScale"===this.xsaleType?o.scaleTime().range(this.xscaleRange).domain(a):o.scaleBand().range(this.xscaleRange).domain(a.map((a=>a.toString())));return{domain:a,XSCALE:t}}function m(){let a=[],t=null,e=null,l=[];if("ohlc"==this.yscaleDataTag)l=0==this.xscaleVisibleRange[1]?[0,s.low.length]:this.xscaleVisibleRange,a=[o.min(s.low.slice(l[0],l[1])),o.max(s.high.slice(l[0],l[1]))];else if("fundaMultibarY"==this.yscaleDataTag){const t=Object.values(s[this.yscaleDataTag]),e=[].concat(...t);l=0==this.xscaleVisibleRange[1]?[0,t[0].length]:this.xscaleVisibleRange,a=[o.min(e.slice(l[0],l[1])),o.max(e.slice(l[0],l[1]))]}else if("rsi"==this.yscaleDataTag){const t=Object.values(s[this.yscaleDataTag]),e=[].concat(...t);l=0==this.xscaleVisibleRange[1]?[0,t[0].length]:this.xscaleVisibleRange,a=[o.min(e.slice(l[0],l[1])),o.max(e.slice(l[0],l[1]))],a=[0,100]}else l=0==this.xscaleVisibleRange[1]?[0,s[this.yscaleDataTag].length]:this.xscaleVisibleRange,a=o.extent(s[this.yscaleDataTag].slice(l[0],l[1]));const n=Array.from(a),i=.1*(n[1]-n[0]),c=[n[0]-i,n[1]+i];if(null!=this.yaxisrange&&(t=o.scaleLinear().range(this.yaxisrange).domain(c),e=this.yzoomtransform.rescaleY(t)),"BR"==this.yscaleTag&&null!=e){let a=[0,e.domain()[1]];e.domain(a)}return{domain:a,YSCALE:t,TranSFormedYscale:e}}const b=(a=l.HO)=>{a.map((a=>{const{xscaleTag:t,ypoint:e,xscaleRange:o,scaleSide:l,xsaleType:s,ticlavelmappedwith:n,xscaleDataTag:c,zoomstatus:g}=a;var p,r;p=t,r={xscaleTag:t,xsaleType:s,scaleSide:l,ticlavelmappedwith:n,ypoint:e,xscaleRange:o,xscaleDataTag:c,zoomstatus:g||!1,xscale:y},i.hasOwnProperty(p)?i[p]=Object.assign(Object.assign({},i[p]),r):i[p]=Object.assign({xsaleType:"Linear",xscaleTag:"bot",scaleSide:"Bottom",ticlavelmappedwith:"xindex",ypoint:100,xscaleRange:[0,100],xscaleDataTag:"xindex",zoomstatus:!0,xscale:y},r)}))},h=(a=l.Mf)=>{a.map((a=>{const{yscaleTag:t,yaxisTag:e,xpoint:l,yaxisrange:s,yscaleDataTag:n,zoomstatus:i,scaleSide:g,xscaleVisibleRange:p,autozoom:r}=a;var x,T;x=t,T={yscaleTag:t,yaxisTag:e,scaleSide:g,xpoint:l,yscaleDataTag:n,yaxisrange:s||null,xscaleVisibleRange:p,zoomstatus:i||!1,autozoom:r||!1,ydomaindata:[0,0],yscale:m,yzoomtransform:o.zoomIdentity},c.hasOwnProperty(x)?c[x]=Object.assign(Object.assign({},c[x]),T):c[x]=Object.assign({yscaleTag:"bot",yaxisTag:"1main",scaleSide:"Left",xpoint:100,yaxisrange:null,yscaleDataTag:"close",xscaleVisibleRange:[0,10],zoomstatus:!0,autozoom:!0,ydomaindata:[0,0],yscale:m,yzoomtransform:o.zoomIdentity},T)}))},S=(a=l.WV)=>{a.map((a=>{const{plotStatus:t,plotName:e,xdataTag:o,ydataTag:l,xscaleTag:n,yscaleTag:i,buttonSvgIcon:c,plotType:p,plotcolor:r,buttontag:x,tooltip:T,clipdata:u}=a;var d,y;d=e,y={plotStatus:t,plotName:e,xdata:()=>s[o],ydata:"ohlc"==l?()=>[]:()=>s[l],xscaleTag:n,yscaleTag:i,plotType:p,plotcolor:r||"green",buttontag:x||"no-button",buttonSvgIcon:c||"defaultsvg",tooltip:T||!1,clipdata:null==u||u},g.hasOwnProperty(d)?g[d]=Object.assign(Object.assign({},g[d]),y):g[d]=Object.assign({plotStatus:!0,plotName:"PlotName",xdata:()=>[],ydata:()=>[],xscaleTag:"Bot1",yscaleTag:"TL",plotType:"line",plotcolor:"red",buttontag:"no-button",buttonSvgIcon:"defaultsvg",tooltip:!1,clipdata:!0},y)}))};function f(a){const t=new Set,e=new Set,o=new Set,l=new Set;return Object.values(a).filter((a=>a.plotStatus)).forEach((a=>{t.add(a.plotName),e.add(a.xscaleTag),o.add(a.yscaleTag),l.add(c[a.yscaleTag].yaxisTag)})),{plotName:t,xscaleTag:e,yscaleTag:o,yaxisTag:l}}function v(a){for(const t in a)x[t].clear();for(const t in a){const e=t;a[t].forEach((a=>x[e].add(a)))}}function R(){Object.entries(g).forEach((([a,t])=>{"no-button"!==t.buttontag&&(p[a]={plotStatus:t.plotStatus,plotName:t.plotName,buttonid:`buttonid_${t.buttontag}`,buttonSvgIcon:t.buttonSvgIcon})}))}function O(a,t,e){Object.entries(c).filter((([e,o])=>o[a]===t)).forEach((([a,t])=>{c[a]=Object.assign(Object.assign({},t),e)}))}function z(a){const t=n.height,e=1/a.length;let o;2==a.length&&(o=[.7,.3]),3==a.length&&(o=[.6,.2,.2]);let l=0,s={};return a.forEach(((a,i)=>{const c=o&&o.length>0?o[i]:e,g=n.margin.top+n.margin.innerTop+t*l,p=g+t*c;s[a]={yaxisrange:[p,g]},l+=c})),s}function D(){r={},Object.values(g).forEach((a=>{if(a.plotStatus){const t=a.xscaleTag;r[t]||(r[t]=[]),r[t].includes(a.yscaleTag)||r[t].push(a.yscaleTag)}}))}},625:(a,t,e)=>{e.d(t,{HO:()=>s,Mf:()=>n,O1:()=>o,WV:()=>l,xZ:()=>i});const o={timestamp:[],xindex:[],open:[],high:[],low:[],close:[],volume:[]},l=[{plotStatus:!0,plotName:"OHLCPlot",xdataTag:"xindex",ydataTag:"ohlc",xscaleTag:"bot",yscaleTag:"TR",plotType:"ohlc",plotcolor:"red",buttontag:"OHLCPlot",buttonSvgIcon:"barchart",tooltip:!0},{plotStatus:!0,plotName:"zigzaglot",xdataTag:"zigzagX",ydataTag:"zigzagY",xscaleTag:"bot",yscaleTag:"TR",plotType:"line",plotcolor:"blue",buttontag:"OHLCPlot",buttonSvgIcon:"barchart",tooltip:!0,clipdata:!1},{plotStatus:!0,plotName:"brlinelot",xdataTag:"xindex",ydataTag:"brlinedata",xscaleTag:"bot",yscaleTag:"TR",plotType:"multiline",plotcolor:"black",buttontag:"BrlInePlot",buttonSvgIcon:"hline",tooltip:!0,clipdata:!1},{plotStatus:!1,plotName:"SMAPlot",xdataTag:"xindex",ydataTag:"ema",xscaleTag:"bot",yscaleTag:"TR",plotType:"line",plotcolor:"red",buttontag:"SMAPlot",buttonSvgIcon:"E5",tooltip:!0},{plotStatus:!1,plotName:"VolumePlot",xdataTag:"xindex",ydataTag:"volume",xscaleTag:"bot",yscaleTag:"BR",plotType:"bar",buttontag:"VolumePlot",buttonSvgIcon:"Volume",plotcolor:"blue",tooltip:!0},{plotStatus:!1,plotName:"HighPlot",xdataTag:"xindex",ydataTag:"high",xscaleTag:"bot",yscaleTag:"LR",plotType:"scatter",buttontag:"HighPlot",buttonSvgIcon:"CRSI"},{plotStatus:!1,plotName:"RSIplt",xdataTag:"xindex",ydataTag:"rsi",xscaleTag:"bot",yscaleTag:"rsi_scale",plotType:"line",plotcolor:"black",buttontag:"RSIPlot",buttonSvgIcon:"RSI"},{plotStatus:!1,plotName:"AdxPlt",xdataTag:"xindex",ydataTag:"adx",xscaleTag:"bot",yscaleTag:"rsi_scale",plotType:"line",plotcolor:"blue",buttontag:"ADXplot",buttonSvgIcon:"ADX"},{plotStatus:!1,plotName:"dmpPlt",xdataTag:"xindex",ydataTag:"dmp",xscaleTag:"bot",yscaleTag:"rsi_scale",plotType:"line",plotcolor:"green",buttontag:"ADXplot",buttonSvgIcon:"ADX"},{plotStatus:!1,plotName:"dmnPlt",xdataTag:"xindex",ydataTag:"dmn",xscaleTag:"bot",yscaleTag:"rsi_scale",plotType:"line",plotcolor:"red",buttontag:"ADXplot",buttonSvgIcon:"ADX"},{plotStatus:!1,plotName:"FundaPlot",xdataTag:"fundaX1",ydataTag:"fundaMultibarY",xscaleTag:"Funda_xscale",yscaleTag:"Funda_yscale",plotType:"mulitbar",buttontag:"FundaPlot",buttonSvgIcon:"EPS"},{plotStatus:!1,plotName:"backtestplot",xdataTag:"xindex",ydataTag:"backtestresultline",xscaleTag:"bot",yscaleTag:"TR",plotType:"backtest",plotcolor:"blue",buttontag:"backtestplot",buttonSvgIcon:"BT",tooltip:!1,clipdata:!1}],s=[{xscaleTag:"bot",xsaleType:"Linear",scaleSide:"Bottom",ticlavelmappedwith:"timestamp",ypoint:20,xscaleRange:[0,100],xscaleDataTag:"xindex",zoomstatus:!0},{xscaleTag:"top",xsaleType:"Linear",scaleSide:"Top",ticlavelmappedwith:"xindex",ypoint:300,xscaleRange:[0,100],xscaleDataTag:"xindex"},{xscaleTag:"Funda_xscale",xsaleType:"Linear",scaleSide:"Top",ticlavelmappedwith:"fundaMappedX1",ypoint:20,xscaleRange:[0,100],xscaleDataTag:"fundaX1",zoomstatus:!1}],n=[{yscaleTag:"TR",yaxisTag:"1main",scaleSide:"Right",xpoint:100,yscaleDataTag:"ohlc",xscaleVisibleRange:[0,0],zoomstatus:!0,autozoom:!0},{yscaleTag:"TL",yaxisTag:"1main",scaleSide:"Left",xpoint:100,yscaleDataTag:"close",xscaleVisibleRange:[0,0],zoomstatus:!0,autozoom:!1},{yscaleTag:"BR",yaxisTag:"volumeaxis",scaleSide:"Right",xpoint:20,yscaleDataTag:"volume",xscaleVisibleRange:[0,0],autozoom:!0,zoomstatus:!0},{yscaleTag:"LR",yaxisTag:"rsiAxis",scaleSide:"Right",xpoint:20,yscaleDataTag:"high",xscaleVisibleRange:[0,0],autozoom:!0,zoomstatus:!0},{yscaleTag:"rsi_scale",yaxisTag:"rsiAxis",scaleSide:"Right",xpoint:0,yscaleDataTag:"rsi",xscaleVisibleRange:[0,0],autozoom:!1,zoomstatus:!1},{yscaleTag:"Funda_yscale",yaxisTag:"FundaAxis",scaleSide:"Right",xpoint:20,yscaleDataTag:"fundaMultibarY",xscaleVisibleRange:[0,0],autozoom:!1,zoomstatus:!0}],i={svgWidth:500,svgHeight:200,targetID:"chartContainer",stockid:"StockName:1D",liveupdatefunction:function(){throw new Error("Function not implemented.")},margin:{top:20,right:50,bottom:20,left:0,innerLeft:0,innerRight:100,innerBottom:20,innerTop:20},get width(){return this.svgWidth-this.margin.left-this.margin.right-this.margin.innerRight-this.margin.innerLeft},get height(){return this.svgHeight-this.margin.top-this.margin.bottom-this.margin.innerTop-this.margin.innerBottom}}},507:(t,e,o)=>{var l,s;t.exports=(l={extent:()=>a.extent,max:()=>a.max,min:()=>a.min,scaleBand:()=>a.scaleBand,scaleLinear:()=>a.scaleLinear,scaleTime:()=>a.scaleTime,zoomIdentity:()=>a.zoomIdentity},s={},o.d(s,l),s)}},e={};function o(a){var l=e[a];if(void 0!==l)return l.exports;var s=e[a]={exports:{}};return t[a](s,s.exports,o),s.exports}o.d=(a,t)=>{for(var e in t)o.o(t,e)&&!o.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:t[e]})},o.o=(a,t)=>Object.prototype.hasOwnProperty.call(a,t);var l={};(()=>{o.d(l,{B:()=>t});var a=o(126);function t(){(0,a.Kw)(),(0,a.v$)(),(0,a.TW)();const t=(0,a.cu)(a.mb);(0,a.Vn)(t);const e=(0,a.Os)();(0,a.Y2)("",{},!0);const o=(0,a.cc)(Array.from(t.yaxisTag));Object.entries(o).forEach((([t,o])=>{(0,a.j)("yaxisTag",t,o);const l=e[t];(0,a.Y2)(t,{range:o.yaxisrange,plotname:l.plotName,yscaleTag:l.yscaleTag})})),(0,a.bx)(),(0,a.ho)()}})();var s=l.B;export{s as InitializeBaseProp};